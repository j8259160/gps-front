(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-17354ce2"],{"58c3":function(t,e,i){},6436:function(t,e,i){"use strict";i("a5e2")},"8a79":function(t,e,i){"use strict";var a=i("23e7"),s=i("06cf").f,c=i("50c4"),r=i("5a34"),l=i("1d80"),n=i("ab13"),o=i("c430"),d="".endsWith,u=Math.min,v=n("endsWith"),h=!o&&!v&&!!function(){var t=s(String.prototype,"endsWith");return t&&!t.writable}();a({target:"String",proto:!0,forced:!h&&!v},{endsWith:function(t){var e=String(l(this));r(t);var i=arguments.length>1?arguments[1]:void 0,a=c(e.length),s=void 0===i?a:u(c(i),a),n=String(t);return d?d.call(e,n,s):e.slice(s-n.length,s)===n}})},a5e2:function(t,e,i){},ceba:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"oildaily full"},[i("div",{staticClass:"oildaily-wrap full"},[i("page-frame",{attrs:{headerTitle:t.$t("record.oildailyReport"),queryTime:t.queryTime,listLength:t.dataList.length,isCustomTime:""},on:{"select-day":t.onSelectTime}},[i("div",{staticClass:"data-list"},[0==t.dataList.length?i("div",{staticClass:"full",staticStyle:{"background-color":"#fff"}},[i("van-empty",{staticClass:"custom-image",attrs:{description:t.$t("tips.noData"),image:t.imageSrc}})],1):t._e(),t._l(t.dataList,(function(e,a){return[i("oildaily-item",{key:a,attrs:{data:e},nativeOn:{click:function(i){return t.handleClick(e.deviceid)}}})]}))],2)])],1),i("router-view")],1)},s=[],c=i("5530"),r=(i("8a79"),i("159b"),i("2f62")),l=i("b562"),n=i("c276"),o=i("d503"),d=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"record-item"},[i("div",{staticClass:"record-item-title"},[i("div",{staticClass:"item-icon"},[i("img",{attrs:{src:t.data.imgSrc}})]),i("div",{staticClass:"item-title"},[i("div",{staticClass:"item-device-name"},[i("b",[t._v(t._s(t.data.devicename))])]),i("div",{staticClass:"item-device-id",style:t.textSty},[t._v(t._s(t.$t("record.deviceId"))+": "+t._s(t.data.deviceid))])])]),i("div",{staticClass:"record-item-content"},[i("div",[i("div",{staticClass:"ellipsis",style:t.textSty},[t._v(t._s(t.$t("record.creater"))+": "+t._s(t.data.creater))]),i("div",{style:t.textSty},[t._v(t._s(t.$t("record.travelMileage"))+": "+t._s(t.data.totaldis)+t._s(t.distanceUnit))])]),i("div",[i("div",{style:t.textSty},[t._v(t._s(t.$t("record.travelOil"))+": "+t._s(t.data.totaloil)+"L")]),i("div",{style:t.textSty},[t._v(t._s(t.$t("record.km100Oil"))+": "+t._s(t.data.km100Oil)+"L")])])])])},u=[],v=i("ae60"),h={name:"OildailyItem",components:{Icon:v["a"]},props:{data:{type:Object,default:function(){return{}}},textColor:{type:String,default:"#000000"}},computed:Object(c["a"])(Object(c["a"])({},Object(r["c"])(["distanceUnit"])),{},{textSty:function(){return{color:this.textColor}}})},m=h,f=(i("dcc7"),i("2877")),y=Object(f["a"])(m,d,u,!1,null,null,null),p=y.exports,g=p,b=i("5101"),O={name:"oildaily",components:{PageFrame:o["a"],OildailyItem:g},beforeRouteUpdate:function(t,e,i){if(i(),e.path.endsWith("/search")){var a=this.$route.query.updated;1==a&&this.queryOildailyRecord()}},data:function(){return{imageSrc:i("6095"),queryTime:0,dataList:[]}},methods:Object(c["a"])({back:function(){this.$router.push("/home")},onSelectTime:function(t){if("number"==typeof t)this.queryTime=t,this.clearData(),this.queryOildailyRecord();else{this.queryTime=t.queryTime;var e=t.startDate,i=t.endDate;if(t.isQuery)if(e<=i){this.clearData();var a={startday:t.startDate,endday:t.endDate,offset:b["a"].getOffset()};this.queryOildailyRecord(a)}else this.$toast(this.$t("tips.startDateAndEndDateTips"))}},clearData:function(){this.dataList=[]},queryOildailyRecord:function(t){var e=this,i=null;i=t||Object(n["k"])(this.queryTime),i.devices=this.selectedList,i.devices.length>0?Object(l["k"])(i).then((function(t){var i=t.status,a=t.records;0===i?e.dataList=e.getDataList(a):e.clearData(),e.$toast.clear()})).catch((function(t){e.clearData(),e.$toast(e.$t("tips.networkError"))})):this.$toast(this.$t("record.selecteDevicetip"),{duration:1e4})},getDataList:function(t){var e=this,i=[],a={};return t.forEach((function(t){var s=t.deviceid,c=0,r=0,l=t.avgoilper100km,o=e.deviceNames[s],d=o.devicename,u=o.creater;t.records.forEach((function(t){c+=t.totaloil,r+=t.totaldistance})),i.push({devicename:d,deviceid:s,creater:u,totaloil:c/100,totaldis:Object(n["b"])(r),km100Oil:l,imgSrc:Object(n["h"])(e.lastPositon[s])}),a[s]=t.records})),this.globalRecords=a,i},getAddress:function(t){var e=[];return t.forEach((function(t){e.push({lon:t.slon,lat:t.slat})})),qeuryAddres(e)},handleClick:function(t){var e=this.deviceNames[t].devicename,i=this.globalRecords[t];if(0==i.length)this.$toast(this.$t("tips.noDataToast"));else{var a=[];i.forEach((function(t){var e=Object(n["b"])(t.totaldistance),i=t.totaloil/100,s=t.oilper100km;a.push({createtime:t.statisticsday,mileage:e,oil:i,oil_100km:s})})),this.setSelectedRecords({devicename:e,deviceid:t,records:a}),this.$router.push("/oildaily/oildailydetail?queryTime=".concat(this.queryTime))}}},Object(r["d"])(["setSelectedRecords"])),beforeDestroy:function(){this.$toast.clear()},computed:Object(c["a"])({},Object(r["e"])(["groups","selectedList","deviceNames","lastPositon"])),mounted:function(){this.queryOildailyRecord()}},_=O,$=(i("6436"),Object(f["a"])(_,a,s,!1,null,null,null));e["default"]=$.exports},dcc7:function(t,e,i){"use strict";i("58c3")}}]);