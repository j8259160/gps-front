(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-36d5e54a"],{"0199":function(t,e,i){},"0af8":function(t,e,i){},"13fe":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"workinghours full"},[i("div",{staticClass:"workinghours-wrap full"},[i("page-frame",{attrs:{headerTitle:t.$t("record.oilWorkingHours"),queryTime:t.queryTime,listLength:t.dataList.length,isCustomTime:"",isTime:""},on:{"select-day":t.onSelectTime}},[i("div",{staticClass:"data-list"},[0==t.dataList.length?i("div",{staticClass:"full",staticStyle:{"background-color":"#fff"}},[i("van-empty",{staticClass:"custom-image",attrs:{description:t.$t("tips.noData"),image:t.imageSrc}})],1):t._e(),t._l(t.dataList,(function(t,e){return[i("workinghours-item",{attrs:{data:t}})]}))],2)])],1),i("router-view")],1)},s=[],r=i("5530"),c=(i("8a79"),i("5319"),i("ac1f"),i("159b"),i("99af"),i("2f62")),n=i("b562"),o=i("c276"),l=i("5101"),d=i("d503"),u=i("7a04"),v={name:"oilWorkingHours",components:{PageFrame:d["a"],WorkinghoursItem:u["a"]},beforeRouteUpdate:function(t,e,i){if(i(),e.path.endsWith("/search")){var a=this.$route.query.updated;1==a&&this.queryOilWorkingHoursRecord()}},data:function(){return{imageSrc:i("6095"),queryTime:0,dataList:[]}},methods:Object(r["a"])({back:function(){this.$router.push("/home")},selectTime:function(t){this.queryTime=t.time},onSelectTime:function(t){if("number"==typeof t)this.queryTime=t,this.clearData(),this.queryOilWorkingHoursRecord();else{this.queryTime=t.queryTime;var e=t.startDate,i=t.endDate;if(e.indexOf("/")>-1&&(e=e.replace("/","-"),e=e.replace("/","-"),i=i.replace("/","-"),i=i.replace("/","-")),t.isQuery)if(e<=i){this.clearData();var a={begintime:e,endtime:i,offset:l["a"].getOffset()};this.queryOilWorkingHoursRecord(a)}else this.$toast(this.$t("tips.startDateAndEndDateTips"))}},clearData:function(){this.dataList=[]},getStartAndEndDate:function(t){var e=864e5,i=l["a"].getOffset(),a=null;if(1==t){var s=l["a"].longToDateStr(Date.now()-e,i);a={begintime:s+" 00:00:00",endtime:s+" 23:59:59"}}else{0!=t&&(t-=1);var r=l["a"].longToDateStr(Date.now(),i);a={begintime:l["a"].longToDateStr(Date.now()-e*t,i)+" 00:00:00",endtime:r+" 23:59:59"}}return a.offset=i,a},queryOilWorkingHoursRecord:function(t){var e=this;t=t||this.getStartAndEndDate(this.queryTime),t.deviceids=this.selectedList,t.deviceids.length>0?Object(n["l"])(t).then((function(t){var i=t.status,a=t.records;0===i?e.dataList=e.getDataList(a):e.clearData(),e.$toast.clear()})).catch((function(t){console.log(t),e.clearData(),e.$toast(e.$t("tips.networkError"))})):this.$toast(this.$t("record.selecteDevicetip"),{duration:1e4})},getDataList:function(t){var e=this,i=[],a=this.deviceNames;return t.forEach((function(t){if(t){var s=t.deviceid,r=t.summary,c=a[s],n=c?c.devicename:"",l=c?c.creater:"",d=r.oilper100km,u=r.oilperhour,v=Object(o["b"])(r.totaldistance);i.push({creater:l,devicename:n,deviceid:s,totalacc:e.getTotalaccStr(r.totalacc),totaldistance:v,totaloil:r.totaloil/100,km100Oil:d,hoursOil:u,imgSrc:Object(o["h"])(e.lastPositon[s])})}})),i},getTotalaccStr:function(t){var e="",i=parseInt(t/36e5),a=parseInt(t%36e5/6e4);return i>0&&(e+="".concat(i).concat(this.$t("record.h"))),e+="".concat(a).concat(this.$t("record.m")),e},getAddress:function(t){var e=[];return t.forEach((function(t){e.push({lon:t.slon,lat:t.slat})})),qeuryAddres(e)}},Object(c["d"])(["setSelectedRecords"])),beforeDestroy:function(){this.$toast.clear()},computed:Object(r["a"])({},Object(c["e"])(["groups","selectedList","deviceNames","lastPositon"])),mounted:function(){this.queryOilWorkingHoursRecord()}},m=v,f=(i("9f50"),i("2877")),h=Object(f["a"])(m,a,s,!1,null,null,null);e["default"]=h.exports},"7a04":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"record-item"},[t.isShowOil?[i("div",{staticClass:"record-item-title"},[i("div",{staticClass:"item-title"},[i("div",{staticClass:"item-device-name ellipsis"},[i("img",{staticStyle:{width:"22px",height:"22px","vertical-align":"middle","margin-left":"5px","margin-right":"5px"},attrs:{src:t.data.imgSrc}}),i("b",{staticStyle:{"vertical-align":"middle"}},[t._v(t._s(t.data.devicename))])]),i("div",{staticClass:"item-device-id",style:t.textSty},[t._v(t._s(t.$t("record.deviceId"))+": "+t._s(t.data.deviceid))])])]),i("div",{staticClass:"record-item-content"},[i("div",{staticStyle:{"margin-left":"5px"}},[i("div",{staticClass:"ellipsis",style:t.textSty},[t._v(t._s(t.$t("record.creater"))+": "+t._s(t.data.creater))]),i("div",{style:t.textSty},[t._v(t._s(t.$t("record.workingDuration"))+": "+t._s(t.data.totalacc))])]),i("div",{staticStyle:{"margin-left":"5px"}},[i("div",{style:t.textSty},[t._v(t._s(t.$t("record.travelMileage"))+": "+t._s(t.data.totaldistance)+t._s(t.distanceUnit))]),i("div",{style:t.textSty},[t._v(t._s(t.$t("record.useOil"))+": "+t._s(t.data.totaloil)+"L")])]),i("div",{staticStyle:{"margin-left":"5px"}},[i("div",{style:t.textSty},[t._v(t._s(t.$t("record.hoursOil"))+": "+t._s(t.data.hoursOil)+"L")]),i("div",{style:t.textSty},[t._v(t._s(t.$t("record.km100Oil"))+": "+t._s(t.data.km100Oil)+"L")])])])]:[i("div",{staticClass:"record-item-title"},[i("div",{staticClass:"item-icon"},[i("img",{attrs:{src:t.data.imgSrc}})]),i("div",{staticClass:"item-title"},[i("div",{staticClass:"item-device-name"},[i("b",[t._v(t._s(t.data.devicename))])]),i("div",{staticClass:"item-device-id",staticStyle:{"vertical-align":"middle"},style:t.textSty},[t._v(t._s(t.$t("record.deviceId"))+" : "+t._s(t.data.deviceid))])])]),i("div",{staticClass:"record-item-content"},[i("div",[i("div",{staticClass:"ellipsis",style:t.textSty},[t._v(t._s(t.$t("record.creater"))+": "+t._s(t.data.creater))]),i("div",{style:t.textSty},[t._v(t._s(t.$t("record.workingDuration"))+": "+t._s(t.data.totalacc))])]),i("div",[i("div",{style:t.textSty},[t._v(t._s(t.$t("record.travelMileage"))+": "+t._s(t.data.totaldistance)+t._s(t.distanceUnit))])])])]],2)},s=[],r=i("5530"),c=i("2f62"),n=i("ae60"),o={name:"OildailyItem",components:{Icon:n["a"]},props:{data:{type:Object,default:function(){return{}}},textColor:{type:String,default:"#000000"},isShowOil:{type:Boolean,default:!0}},computed:Object(r["a"])(Object(r["a"])({},Object(c["c"])(["distanceUnit"])),{},{textSty:function(){return{color:this.textColor}}})},l=o,d=(i("eead"),i("2877")),u=Object(d["a"])(l,a,s,!1,null,null,null),v=u.exports;e["a"]=v},"8a79":function(t,e,i){"use strict";var a=i("23e7"),s=i("06cf").f,r=i("50c4"),c=i("5a34"),n=i("1d80"),o=i("ab13"),l=i("c430"),d="".endsWith,u=Math.min,v=o("endsWith"),m=!l&&!v&&!!function(){var t=s(String.prototype,"endsWith");return t&&!t.writable}();a({target:"String",proto:!0,forced:!m&&!v},{endsWith:function(t){var e=String(n(this));c(t);var i=arguments.length>1?arguments[1]:void 0,a=r(e.length),s=void 0===i?a:u(r(i),a),o=String(t);return d?d.call(e,o,s):e.slice(s-o.length,s)===o}})},"9f50":function(t,e,i){"use strict";i("0af8")},eead:function(t,e,i){"use strict";i("0199")}}]);