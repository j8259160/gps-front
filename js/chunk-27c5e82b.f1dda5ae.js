(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-27c5e82b"],{1792:function(e,t){e.exports="data:image/png;base64,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"},"32eb":function(e,t,a){"use strict";var i,n=function(){var e=this,t=e._self._c;return t("div",{staticClass:"full",staticStyle:{position:"relative"}},[t("div",{staticClass:"full",attrs:{id:e.mapId}}),t("SwitchMapType",{attrs:{mapType:e.myMapType},on:{"select-map":e.onSelectMap,"switch-traffic":e.onSwitchTraffic}})],1)},r=[],o=a("ade3"),s=a("5530"),c=(a("d9e2"),a("99af"),a("14d9"),a("fb6a"),a("b0c0"),a("b64b"),a("d3b7"),a("ac1f"),a("5319"),a("159b"),a("4795"),a("2f62")),l=a("44ca"),A=a("a167"),d=a("532f"),p=a("b562"),h=a("c276"),m=a("8a8a"),y=a("e1fa"),f=a("442c"),u=a("bd91"),g=a("1792"),x={name:"ReportMap",data:function(){return{myMapType:""}},computed:Object(s["a"])(Object(s["a"])({},Object(c["b"])(["isZh","mapType","userSetting","currentDeviceId"])),{},{mapId:function(){return"map".concat(this._uid)}}),components:{SwitchMapType:d["a"]},methods:(i={onSelectMap:function(e){this.convertLongitudeAndLatitude(e.mapType),this.setMapTypeLayer(e),this.fitExtent(this.fitExtentPoints)},convertLongitudeAndLatitude:function(e){var t=this.mapType,a="bMap"==t,i=!1;(a&&"bMap"!=e||0==a&&"bMap"==e)&&(i=!0);var n=this.lineLayer,r=this.fenceLayer;if(console.log("isNeedConvert",i),i&&n&&r){var o="bMap"==e,s=n.getGeometries(),c=r.getGeometries();s=s.concat(c),s.forEach((function(e){var t=e.type;if(console.log("type",t),"Point"==t){var a=e.getCoordinates(),i=[];i=o?Object(A["g"])(a.x,a.y):Object(A["c"])(a.x,a.y),a.x=i[0],a.y=i[1],e.setCoordinates(a)}else if("Polygon"==t){var n=e.getCoordinates();if(n instanceof Array)n.forEach((function(e){e.forEach((function(e){var t=[];t=o?Object(A["g"])(e.x,e.y):Object(A["c"])(e.x,e.y),e.x=t[0],e.y=t[1]}))})),e.setCoordinates(n);else{var r=[];r=o?Object(A["g"])(n.x,n.y):Object(A["c"])(n.x,n.y),n.x=r[0],n.y=r[1],e.setCoordinates(n)}}else if("LineString"==t){var s=e.getCoordinates();s.forEach((function(e){var t=[];t=o?Object(A["g"])(e.x,e.y):Object(A["c"])(e.x,e.y),e.x=t[0],e.y=t[1]})),e.setCoordinates(s)}}))}},onSwitchTraffic:function(e){var t="bMap"==this.mapType;e?t?this.baiduTrafficLayer.show():this.googleTrafficLayer.show():t?this.baiduTrafficLayer.hide():this.googleTrafficLayer.hide()},addTrafficLayer:function(e){null==this.baiduTrafficLayer&&(this.baiduTrafficLayer=new maptalks.TileLayer("baidutraffic",{urlTemplate:function(e,t,a){var i="",n={x:e,y:t,z:a,domain:i,time:Date.now()},r=/\{ *([\w_]+) *\}/g;return l["g"].replace(r,(function(e,t){var a=n[t];if(void 0===a)throw new Error("No value provided for variable "+e);return"function"===typeof a&&(a=a(n)),a}))}}),this.mapIns.addLayer(this.baiduTrafficLayer),this.baiduTrafficLayer.hide()),null==this.googleTrafficLayer&&(this.googleTrafficLayer=new maptalks.TileLayer("googletraffic",{urlTemplate:function(e,t,a){t=Math.pow(2,a)-1-t;var i="",n={x:e,y:t,z:a,domain:i,time:Date.now()},r=/\{ *([\w_]+) *\}/g;return googleTrafficUrlTemplate.replace(r,(function(e,t){var a=n[t];if(void 0===a)throw new Error("No value provided for variable "+e);return"function"===typeof a&&(a=a(n)),a}))}}),this.mapIns.addLayer(this.googleTrafficLayer),this.googleTrafficLayer.hide()),this.onSwitchTraffic(e)},initMap:function(){this.fencePoints=[],this.symbol={lineColor:"#2D9F28",lineWidth:2,polygonFill:"rgb(249,239,158)",polygonOpacity:.3},this.lastMapType=this.mapType,this.googleTrafficLayer=null,this.baiduTrafficLayer=null,this.textlayer=null,this.drawTool=null;var e=Object(h["K"])(this.currentDeviceId);this.mapIns=new maptalks.Map(this.mapId,{centerCross:!0,center:e,zoom:5,minZoom:4,maxZoom:18,scaleControl:!0,dragRotate:!1,dragPitch:!1,zoomAnimation:!1,panAnimation:!1,enableInfoWindow:!0}),this.setMapTypeLayer({mapType:this.mapType,traffic:!1,xiansu:!1,satelliteMap:!1}),this.fenceLayer=new maptalks.VectorLayer("fenceLayer").addTo(this.mapIns),this.fenceLayer.setZIndex(100),this.lineLayer=new maptalks.VectorLayer("lineLayer").addTo(this.mapIns),this.lineLayer.setZIndex(999)},clear:function(){this.lineLayer&&this.lineLayer.clear(),this.fenceLayer&&this.fenceLayer.clear()},setMapTypeLayer:function(e){var t=this,a=this.lastMapType,i="bMap"==a,n=this.mapIns.getCenter();this.mapIns.removeLayer("baiduText"),this.mapIns.removeLayer("aliText");var r=e.mapType,o=e.satelliteMap,s=e.traffic;if("bMap"==r){t.mapIns.setSpatialReference({projection:"baidu"});var c=new maptalks.TileLayer("base",o?l["e"]:l["d"]);if(t.mapIns.setBaseLayer(c),o){var d=new maptalks.TileLayer("baiduText",l["f"]);t.mapIns.addLayer(d)}if(a!=r){t.mapIns.setMaxZoom(19);var p=Object(A["g"])(n.x,n.y);t.mapIns.setCenter({x:p[0],y:p[1]})}}else if("gMap"==r){c=new maptalks.TileLayer("base",o?l["m"]:l["l"]);if(t.mapIns.setSpatialReference({}),t.mapIns.setBaseLayer(c),t.mapIns.setMaxZoom(19),i){var h=Object(A["c"])(n.x,n.y);t.mapIns.setCenter({x:h[0],y:h[1]})}}else if("aMap"==r){c=new maptalks.TileLayer("base",o?l["b"]:l["a"]);if(t.mapIns.setSpatialReference({}),t.mapIns.setBaseLayer(c),o){d=new maptalks.TileLayer("aliText",l["c"]);t.mapIns.addLayer(d)}if(t.mapIns.setMaxZoom(18),i){var m=Object(A["c"])(n.x,n.y);t.mapIns.setCenter({x:m[0],y:m[1]})}}else if("gChinaMap"==r){if(this.isZh)var y=o?l["k"]:l["i"];else y=o?l["j"]:l["h"];c=new maptalks.TileLayer("base",y);if(t.mapIns.setSpatialReference({}),t.mapIns.setBaseLayer(c),t.mapIns.setMaxZoom(19),i){var f=Object(A["c"])(n.x,n.y);t.mapIns.setCenter({x:f[0],y:f[1]})}}t.addTrafficLayer(s),t.lastMapType=r,t.myMapType=r}},Object(o["a"])(Object(o["a"])(Object(o["a"])(Object(o["a"])(Object(o["a"])(Object(o["a"])(Object(o["a"])(Object(o["a"])(Object(o["a"])(Object(o["a"])(i,"convertLongitudeAndLatitude",(function(e){var t=this.lastMapType,a="bMap"==t,i=!1;(a&&"bMap"!=e||0==a&&"bMap"==e)&&(i=!0);var n=this.lineLayer,r=this.fenceLayer;if(i&&n&&r){var o="bMap"==e,s=this.lineLayer.getGeometries(),c=this.fenceLayer.getGeometries(),l=[];s.forEach((function(e){var t=e.type;if("Point"==t){var a=e.getCoordinates(),i=[];i=o?Object(A["g"])(a.x,a.y):Object(A["c"])(a.x,a.y),a.x=i[0],a.y=i[1],l.push(a),e.setCoordinates(a)}else if("LineString"==t){var n=e.getCoordinates();n.forEach((function(e){var t=[];t=o?Object(A["g"])(e.x,e.y):Object(A["c"])(e.x,e.y),e.x=t[0],e.y=t[1],l.push(e)})),e.setCoordinates(n)}})),c.forEach((function(e){var t=e.type;if("Point"==t){var a=e.getCoordinates(),i=[];i=o?Object(A["g"])(a.x,a.y):Object(A["c"])(a.x,a.y),a.x=i[0],a.y=i[1],l.push(a),e.setCoordinates(a)}else if("Polygon"==t){var n=e.getCoordinates();n.forEach((function(e){e.forEach((function(e){var t=[];t=o?Object(A["g"])(e.x,e.y):Object(A["c"])(e.x,e.y),e.x=t[0],e.y=t[1],l.push(e)}))})),e.setCoordinates(n)}})),this.fitExtentPoints=l}})),"markersAndLineLayerToMap",(function(e){var t=this;if(this.lineLayer.clear(),e.length>0){var a=this.getPoints(e),i=this.createMarker(e[0],this.isZh?y:u),n=this.createMarker(e[e.length-1],this.isZh?f:g);i.setZIndex(99),n.setZIndex(99);var r=this.createLine(a,"#2D9F28");this.lineLayer.addGeometry(i),this.lineLayer.addGeometry(n),this.lineLayer.addGeometry(r),setTimeout((function(){t.fitExtent(a)}),300)}})),"moveingCarMarker",(function(e){var t=this.tracks[e],a=this.getPoints([t])[0];this.carMarker&&this.carMarker.setCoordinates(a)})),"carMarkersAndLineLayerToMap",(function(e,t){if(this.lineLayer.clear(),this.tracks=e,e.length>0){var i=this.getPoints(e),n=this.createMarker(e[0],this.isZh?y:u),r=this.createMarker(e[e.length-1],this.isZh?f:g);n.setZIndex(99),r.setZIndex(99);var o=this.createLine(i,"#2D9F28");this.lineLayer.addGeometry(n),this.lineLayer.addGeometry(r),this.lineLayer.addGeometry(o),this.fitExtent(i);var s=this.calOilMarkIndex(e,t,t?t.oilindex:0,!0),c=this.calOilMarkIndex(e,t,t?t.oilindex:0,!1);this.addFuleLine(e.slice(s,c+1));var l=e[s],A=null;if(l){var d=this.getPoints([l])[0],p=a("82f3");A=new maptalks.Marker([d.x,d.y],{symbol:{markerFile:p,markerWidth:30,markerHeight:30,markerRotation:void 0!=l.course?-l.course:0,markerHorizontalAlignment:"middle",markerVerticalAlignment:"middle"},zIndex:999}),this.lineLayer.addGeometry(A)}this.carMarker=A}})),"calOilMarkIndex",(function(e,t,a,i){var n=0,r=t?[t]:[];if(r&&r.length>0)for(var o=0;o<r.length;++o){t=r[o];if(t.oilindex==a){var s=i?t.begintime:t.endtime,c=Object(h["l"])(e,s);c&&(n=c.index)}}return n})),"addFuleLine",(function(e){var t=this.getPoints(e),a=this.createLine(t,"#008100");a.setZIndex(2),this.lineLayer.addGeometry(a)})),"drawFenceToMap",(function(e,t){var a=this,i=this.fenceLayer,n=this,r="bMap"==this.mapType,o=[];i.clear(),e.forEach((function(e){switch(e.type){case 1:if(r)var t=Object(A["n"])(e.lon1,e.lat1);else t=Object(A["o"])(e.lon1,e.lat1);var s={x:t[0],y:t[1]},c=new maptalks.Circle(s,e.radius1,{symbol:a.symbol}),l=c.getExtent();o.push({x:l.xmax,y:l.ymax}),o.push({x:l.xmin,y:l.ymin}),n.addFenceLabel(e.name+e.radius1/1e3+"km",t),c.addTo(i);break;case 2:var d=[];if(r){t=Object(A["n"])(e.lon1,e.lat1);d=Object(A["l"])(JSON.parse(e.points2))}else{t=Object(A["o"])(e.lon1,e.lat1);d=Object(A["m"])(JSON.parse(e.points2))}o=o.concat(d);var h=new maptalks.Polygon(d,{symbol:a.symbol});n.addFenceLabel(e.name,t),h.addTo(i);break;case 3:var m=e.areaindex3;t=[];t=r?Object(A["n"])(e.lon1,e.lat1):Object(A["o"])(e.lon1,e.lat1),Object(p["V"])(m,0).then((function(r){if(r&&!a.isEdit){var o=a.getAllCoordinates(r),s=[],c=[];n.addFenceLabel(e.name,t),o.forEach((function(e){a.getPolygon([e]).addTo(i);var t=[];e.forEach((function(e){e={x:e[0],y:e[1]};s.push(e),t.push(e)})),c.push(t)}))}}));break;case 5:var y=a.convertWgs84PointsToMapPoints(JSON.parse(e.points2));if(r)t=Object(A["n"])(e.lon1,e.lat1);else t=Object(A["o"])(e.lon1,e.lat1);o=o.concat(y),n.addFenceLabel(e.name,t),new maptalks.LineString(y,{symbol:{lineColor:{type:"linear",colorStops:[[0,"red"],[1,"red"]]},lineWidth:4}}).addTo(i);break;case 6:if(r)t=Object(A["n"])(e.lon1,e.lat1);else t=Object(A["o"])(e.lon1,e.lat1);o.push({x:t[0],y:t[1]}),n.addPointToMap(e.name,t);break}})),this.fencePoints=o,t&&this.drawLine(t)})),"addPointToMap",(function(e,t){this.addFenceLabel(e,t),new maptalks.Marker(t,{symbol:[{markerFile:m,markerWidth:30,markerHeight:30,markerRotation:0,markerDy:0,markerDx:0}]}).addTo(this.fenceLayer).setZIndex(1222)})),"convertWgs84PointsToMapPoints",(function(e){var t="bMap"==this.myMapType,a=[];return e.forEach((function(e){var i=t?Object(A["n"])(e.x,e.y):Object(A["o"])(e.x,e.y);a.push({x:i[0],y:i[1]})})),a})),"addFenceLabel",(function(e,t){this.fenceLabel=new maptalks.Label(e,t,{cursor:"pointer",textSymbol:{textFill:"#000000",textSize:12,textWeight:"normal",textDy:12},boxStyle:{padding:[5,4],verticalAlignment:"top",horizontalAlignment:"middle",symbol:{markerType:"square",markerFill:"#FFFFFF",markerLineColor:"#000000",markerLineWidth:2,markerFillOpacity:1,markerLineOpacity:1}}}).addTo(this.fenceLayer).setZIndex(1222)})),Object(o["a"])(Object(o["a"])(Object(o["a"])(Object(o["a"])(Object(o["a"])(Object(o["a"])(Object(o["a"])(Object(o["a"])(Object(o["a"])(Object(o["a"])(i,"singleMarkerToMap",(function(e){if(this.lineLayer.clear(),e){var t=this.getPoints([e])[0],i=a("82f3"),n=new maptalks.Marker([t.x,t.y],{symbol:{markerFile:i,markerWidth:30,markerHeight:30,markerRotation:void 0!=e.course?-e.course:0,markerHorizontalAlignment:"middle",markerVerticalAlignment:"middle"},zIndex:999});this.lineLayer.addGeometry(n);var r=this.fencePoints.concat(t);this.fitExtent(r)}})),"fitExtent",(function(e){if(e.length)if(e.length>1){var t=new maptalks.Polygon(e);this.mapIns.fitExtent(t.getExtent(),0),t=null}else{var a=e[0];a&&this.mapIns.setCenterAndZoom(a,18)}})),"getPoints",(function(e){var t="bMap"==this.myMapType,a=[];return e.forEach((function(e){if(t){var i=Object(A["n"])(e.callon,e.callat);e.point={y:i[1],x:i[0]}}else{var n=Object(A["o"])(e.callon,e.callat);e.point={y:n[1],x:n[0]}}a.push(e.point)})),a})),"createMarker",(function(e,t){return new maptalks.Marker([e.point.x,e.point.y],{symbol:{markerFile:t,markerWidth:30,markerHeight:30,markerRotation:0,markerDy:0,markerDx:0},zIndex:997})})),"paddingPre",(function(e,t){for(var a=(e+"").length;a<t;a=e.length)e="0"+e;return e})),"createLine",(function(e,t){var a=this.userSetting.playbacklinewidth,i=t,n=1==this.userSetting.trackshowarrow;return new maptalks.LineString(e,{arrowStyle:[1,2],cursor:"pointer",arrowPlacement:"vertex-last",symbol:{lineColor:{type:"linear",colorStops:[[0,i],[1,i]]},lineWidth:a,arrowPlacement:n?"vertex-last":"point"},zIndex:999})})),"addLineFenceLabel",(function(e,t){new maptalks.Label(e,t,{cursor:"pointer",textSymbol:{textFill:"#000000",textSize:12,textWeight:"normal",textDy:12},boxStyle:{padding:[5,4],verticalAlignment:"top",horizontalAlignment:"middle",symbol:{markerType:"square",markerFill:"#FFFFFF",markerLineColor:"#000000",markerLineWidth:2,markerFillOpacity:1,markerLineOpacity:1}}}).addTo(this.lineLayer)})),"drawFenceAndLine",(function(e,t){if(this.lineLayer.clear(),e.length>0){this.extents=[];var a=this.getPoints(e),i=this.createMarker(e[0],this.isZh?y:u),n=this.createMarker(e[e.length-1],this.isZh?f:g);i.setZIndex(99),n.setZIndex(99);var r=this.createLine(a,"red");this.lineLayer.addGeometry(i),this.lineLayer.addGeometry(n),this.lineLayer.addGeometry(r),this.drawFence(t),this.fitExtent(this.extents)}})),"drawLine",(function(e){if(e.length>0){this.extents=[];var t=this.getPoints(e),a=this.createMarker(e[0],this.isZh?y:u),i=this.createMarker(e[e.length-1],this.isZh?f:g);a.setZIndex(99),i.setZIndex(99);var n=this.createLine(t,"red");this.fenceLayer.addGeometry(a),this.fenceLayer.addGeometry(i),this.fenceLayer.addGeometry(n)}})),"drawFence",(function(e){var t=this,a="bMap"==this.mapType,i={lineColor:"#e4393c",lineWidth:2,polygonFill:"rgb(249,239,158)",polygonOpacity:.3},n={};e.forEach((function(e){var r=e.geosystemrecord,o=r.georecorduuid;if(!n[o]){switch(r.type){case 1:if(a)var s=Object(A["n"])(r.lon1,r.lat1);else s=Object(A["o"])(r.lon1,r.lat1);e={x:s[0],y:s[1]};var c=new maptalks.Circle(e,r.radius1,{symbol:i});c.addTo(t.lineLayer);var l=c.getExtent();t.extents.push({x:l.xmax,y:l.ymax}),t.extents.push({x:l.xmin,y:l.ymin}),t.addLineFenceLabel(r.name,s);break;case 2:var d=[];if(a){s=Object(A["n"])(r.lon1,r.lat1);d=Object(A["l"])(JSON.parse(r.points2))}else{s=Object(A["o"])(r.lon1,r.lat1);d=Object(A["m"])(JSON.parse(r.points2))}var p=new maptalks.Polygon(d,{symbol:i});p.addTo(t.lineLayer);l=p.getExtent();t.extents.push({x:l.xmax,y:l.ymax}),t.extents.push({x:l.xmin,y:l.ymin}),t.addLineFenceLabel(r.name,s);break}n[o]=!0}}))}))),mounted:function(){this.tracks=[],this.mapIns=null,this.carMarker=null,this.googleTrafficLayer=null,this.baiduTrafficLayer=null,this.myMapType=this.mapType;var e=this;if(void 0==window.maptalks)if("monitorPage"==e.$route.name)(function t(){void 0==window.maptalks?setTimeout(t,1e3):e.initMap()})();else{var t=document.createElement("script");t.src="./maptalks/maptalks.min.js",t.onload=function(){var t=document.createElement("script");t.src="./maptalks/maptalks.markercluster.js",t.onload=function(){e.$nextTick(e.initMap)},document.head.appendChild(t);var a=document.createElement("script");a.src="./js/MyAreaTool.js",document.head.appendChild(a)},document.head.appendChild(t)}else e.$nextTick(e.initMap)}},b=x,L=a("2877"),T=Object(L["a"])(b,n,r,!1,null,null,null);t["a"]=T.exports},"8a8a":function(e,t){e.exports="data:image/png;base64,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"}}]);