(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-df3d4130"],{"4d381":function(e,t,i){},d804:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"report-form full"},[t("div",{staticClass:"report-form-inner"},[t("div",{staticClass:"report-form-inner-header",staticStyle:{height:"35px"}},[t("div",{staticClass:"f_left"},[t("SingleChoiceVehicle",{attrs:{placeholder:this.$t("tips.selectSingleDevice"),width:"230px"},model:{value:e.deviceid,callback:function(t){e.deviceid=t},expression:"deviceid"}})],1),t("div",{staticClass:"f_left"},[t("el-button",{attrs:{loading:e.loading,type:"primary"},on:{click:e.handleQuery}},[e._v(e._s(e.$t("common.query")))])],1),t("div",{staticClass:"f_left"},[t("el-button",{attrs:{type:"primary",loading:e.exportLoading1},on:{click:e.exportData}},[e._v(e._s(e.$t("common.export")))])],1)]),t("div",{staticClass:"report-form-inner-content",staticStyle:{top:"39px"}},[t("vxe-table",{attrs:{border:"",resizable:"","menu-config":e.tableMenu,"auto-resize":"","show-overflow":"","highlight-hover-row":"",size:"mini",height:"auto",data:e.voiceList},on:{"menu-click":e.handleClickTableMenu}},[t("vxe-table-column",{attrs:{type:"seq",width:"60",title:e.$t("reportForm.index"),sortable:""}}),t("vxe-table-column",{attrs:{field:"devicename",title:e.$t("alarm.devName"),sortable:""}}),t("vxe-table-column",{attrs:{field:"deviceid",title:e.$t("alarm.devNum"),sortable:""}}),t("vxe-table-column",{attrs:{field:"updatetimeStr",title:e.$t("reportForm.time"),sortable:""}}),t("vxe-table-column",{attrs:{field:"url",title:e.$t("reportForm.media"),sortable:""}}),t("vxe-table-column",{attrs:{title:e.$t("reportForm.action"),width:"80"},scopedSlots:e._u([{key:"default",fn:function(i){return[t("a",{attrs:{href:i.row.url,target:"_blank",download:""}},[e._v(e._s(e.$t("reportForm.download")))])]}}])})],1)],1)])])},o=[],r=i("5530"),n=(i("14d9"),i("d3b7"),i("159b"),i("2f62")),s=i("d03a"),l=i("1c31"),c=i("6e52"),d=i("5101"),u=i("a05b"),v={name:"voiceReport",data:function(){return{loading:!1,exportLoading1:!1,deviceid:"",voiceList:[]}},mixins:[u["a"]],components:{SingleChoiceVehicle:s["a"]},watch:{dateRange:function(){this.loading||this.handleQuery()},deviceid:function(e){this.setSingleDeviceid(e)}},computed:Object(r["a"])({},Object(n["b"])(["singleDeviceid"])),methods:Object(r["a"])(Object(r["a"])({},Object(n["c"])(["setSingleDeviceid"])),{},{exportData:function(){var e=this.deviceid;if(e&&this.voiceList.length){var t=[[this.$t("reportForm.index"),this.$t("alarm.devName"),this.$t("alarm.devNum"),this.$t("reportForm.time"),this.$t("reportForm.media")]];this.voiceList.forEach((function(i,a){var o=[];e=i.deviceid,o.push(a+1),o.push(i.devicename),o.push(i.deviceid),o.push(i.updatetimeStr),o.push(i.url),t.push(o)}));var i={title:this.$t("reportForm.voiceReport")+"-"+e,data:t};this.exportLoading1=!0,new ExcelCls(i).exportExcel(this)}},handleClickRow:function(e){e.url},handleQuery:function(){var e=this,t=this.deviceid;""!=t?(this.loading=!0,Object(l["D"])(t).then((function(i){var a=i.records;e.loading=!1;var o=[];a.forEach((function(e){o.push({devicename:c["a"].deviceInfos[t].devicename,deviceid:t,updatetimeStr:d["a"].longToLocalDateTimeStr(e.updatetime),url:e.url})})),e.voiceList=o}))):this.$XModal.message({message:this.$t("tips.selectDevice"),status:"error",zIndex:9999})}}),mounted:function(){this.singleDeviceid&&(this.deviceid=this.singleDeviceid)}},h=v,m=(i("e080"),i("2877")),p=Object(m["a"])(h,a,o,!1,null,null,null),f=p.exports;t["default"]=f},e080:function(e,t,i){"use strict";i("4d381")}}]);