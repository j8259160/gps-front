(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-534b16b8"],{"0595":function(e,t,a){"use strict";var r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"quick-time-range"},[t("div",{staticClass:"quick-time-range-wrapper"},e._l(e.list,(function(a){return t("div",{key:a.type,style:{color:a.type==e.type?"#409EFF":""},on:{click:function(t){return e.selectDate(a.type)}}},[e._v(e._s(a.label))])})),0),t("div",{staticClass:"quick-time-range-space"}),t("div",{staticClass:"quick-time-range-btn",on:{click:function(t){e.isCollapse=!e.isCollapse}}},[e.isCollapse?t("i",{staticClass:"el-icon-arrow-right"}):t("i",{staticClass:"el-icon-arrow-left"})])])},i=[],s=a("5101"),n={name:"QuickTimeRange",props:{value:{type:Array,default:function(){return[]}},dateType:{type:String,default:"date"}},watch:{isCollapse:function(){this.setList()}},data:function(){return{isCollapse:!0,type:0,list:[]}},methods:{setList:function(){this.isCollapse?this.list=[{label:this.$t("reportForm.toDay"),type:0},{label:this.$t("reportForm.yesterDay"),type:1},{label:this.$t("reportForm.recent3Days"),type:3}]:this.list=[{label:this.$t("reportForm.recent7Days"),type:7},{label:this.$t("reportForm.recent10Days"),type:10},{label:this.$t("reportForm.recent30Days"),type:30}]},selectDate:function(e){var t="datetimerange"==this.dateType,a=[],r=new Date,i=new Date;switch(t&&(r=new Date(s["a"].format(new Date,"yyyy-MM-dd")+" 00:00:00"),i=new Date(s["a"].format(new Date,"yyyy-MM-dd")+" 23:59:59")),e){case 0:a=[new Date(s["a"].format(r,"yyyy-MM-dd")+" 00:00:00"),new Date(s["a"].format(i,"yyyy-MM-dd")+" 23:59:59")];break;case 1:r.setTime(r.getTime()-864e5),i.setTime(i.getTime()-864e5),a=[r,i];break;case 3:r.setTime(r.getTime()-2592e5),a=[r,i];break;case 7:r.setTime(r.getTime()-6048e5),a=[r,i];break;case 10:r.setTime(r.getTime()-864e6),a=[r,i];break;case 30:r.setTime(r.getTime()-2592e6),a=[r,i];break}this.type=e,this.$emit("input",a)}},mounted:function(){var e=this;this.$nextTick((function(){e.setList()}))}},o=n,l=(a("8d09"),a("2877")),c=Object(l["a"])(o,r,i,!1,null,null,null);t["a"]=c.exports},4486:function(e,t,a){"use strict";a("71ea")},"57c9":function(e,t,a){"use strict";var r=a("0595");t["a"]=r["a"]},"58d7":function(e,t,a){},"71ea":function(e,t,a){},"8d09":function(e,t,a){"use strict";a("a818")},a818:function(e,t,a){},ab9a:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"report-form full"},[t("div",{staticClass:"report-form-inner"},[t("el-scrollbar",{staticStyle:{width:"100%"}},[t("div",{staticClass:"report-form-inner-header",staticStyle:{height:"45px"}},[t("div",{staticClass:"f_left"},[t("SingleChoiceUser",{model:{value:e.username,callback:function(t){e.username=t},expression:"username"}})],1),t("div",{staticClass:"f_left",staticStyle:{width:"90px"}},[t("el-select",{staticStyle:{width:"90px"},model:{value:e.queryType,callback:function(t){e.queryType=t},expression:"queryType"}},e._l(e.options,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),t("div",{staticClass:"f_left"},[t("SelectDate",{model:{value:e.dateRange,callback:function(t){e.dateRange=t},expression:"dateRange"}})],1),t("div",{staticClass:"f_left"},[t("QuickTimeRange",{model:{value:e.dateRange,callback:function(t){e.dateRange=t},expression:"dateRange"}})],1),t("div",{staticClass:"f_left"},[t("el-button",{attrs:{loading:e.loading,type:"primary"},on:{click:e.handleQuery}},[e._v(e._s(e.$t("common.query")))])],1),t("div",{staticClass:"f_left"},[t("el-button",{attrs:{type:"primary",loading:e.exportLoading1},on:{click:e.exportData}},[e._v(e._s(e.$t("common.export")))])],1)])]),t("div",{staticClass:"report-form-inner-content",staticStyle:{top:"49px"}},[t("vxe-table",{attrs:{"menu-config":e.tableMenu,border:"",resizable:"","auto-resize":"","show-overflow":"","highlight-hover-row":"",size:"mini",height:"auto",data:e.totalList},on:{"menu-click":e.handleClickTableMenu}},[t("vxe-table-column",{attrs:{sortable:"",type:"seq",width:"60",title:e.$t("reportForm.index")}}),t("vxe-table-column",{attrs:{sortable:"",field:"username",title:e.$t("reportForm.storeNumber")}}),t("vxe-table-column",{attrs:{sortable:"",field:"companyname",title:e.$t("reportForm.storeName")}}),t("vxe-table-column",{attrs:{sortable:"",field:"cardname",title:e.$t("reportForm.name")}}),t("vxe-table-column",{attrs:{sortable:"",field:"phone",title:e.$t("reportForm.contactPhone")}}),t("vxe-table-column",{attrs:{sortable:"",field:"companyaddr",title:e.$t("reportForm.address")}}),t("vxe-table-column",{attrs:{sortable:"",field:"totalinsurecount",title:e.$t("reportForm.cumulativeRecords")}}),t("vxe-table-column",{attrs:{sortable:"",field:"remaininsurecount",title:e.$t("reportForm.surplus")}}),t("vxe-table-column",{attrs:{sortable:"",field:"agentinsurecount",title:e.$t("reportForm.exFactory")}}),t("vxe-table-column",{attrs:{sortable:"",field:"individualinsurecount",title:e.$t("reportForm.buyOneself")}})],1)],1)],1)])},i=[],s=a("5530"),n=(a("99af"),a("14d9"),a("d3b7"),a("159b"),a("af94")),o=a("d462"),l=a("57c9"),c=a("1c31"),u=a("5101"),d=a("2f62"),m=a("4c3c"),p=a("a05b"),h={name:"insureSaleRecords",data:function(){return{loading:!1,exportLoading1:!1,username:"",queryType:"0",dateRange:[new Date,new Date],options:[],totalList:[]}},components:{SingleChoiceUser:n["a"],SelectDate:o["a"],QuickTimeRange:l["a"]},watch:{dateRange:function(){this.loading||this.handleQuery()}},mixins:[m["a"],p["a"]],computed:Object(s["a"])({},Object(d["b"])(["isZh"])),methods:{handleQuery:function(){var e=this,t=this.username;if(t){var a=this.dateRange,r=u["a"].format(a[0],"yyyy-MM-dd"),i=u["a"].format(a[1],"yyyy-MM-dd"),s={username:t,startday:r,endday:i,offset:u["a"].getOffset()};this.loading=!0,Object(c["P"])(s).then((function(t){var a=t.records;e.loading=!1,e.queryDetailDateRange="".concat(r," ").concat(i);var s=[];a&&("0"==e.queryType?a.forEach((function(e){s.push(e)})):a.forEach((function(e){0==e.agentinsurecount&&0==e.individualinsurecount&&0==e.remaininsurecount||s.push(item)}))),e.totalList=s}))}else this.totalList=[]},exportData:function(){if(this.totalList.length){var e=[[this.$t("reportForm.index"),this.$t("reportForm.storeNumber"),this.$t("reportForm.storeName"),this.$t("reportForm.name"),this.$t("reportForm.contactPhone"),this.$t("reportForm.address"),this.$t("reportForm.cumulativeRecords"),this.$t("reportForm.surplus"),this.$t("reportForm.exFactory"),this.$t("reportForm.buyOneself")]];this.totalList.forEach((function(t,a){var r=[];r.push(++a),r.push(t.username?t.username:""),r.push(t.companyname?t.companyname:""),r.push(t.cardname?t.cardname:""),r.push(t.phone?t.phone:""),r.push(t.companyaddr),r.push(t.totalinsurecount),r.push(t.remaininsurecount),r.push(t.agentinsurecount),r.push(t.individualinsurecount),e.push(r)}));var t={title:this.$t("reportForm.insureSaleRecords"),data:e,dateRange:this.queryDetailDateRange};this.exportLoading1=!0,new ExcelCls(t).exportExcel(this)}}},mounted:function(){var e=this;this.$nextTick((function(){e.options=[{label:e.$t("monitor.all"),value:"0"},{label:e.$t("missing.sold"),value:"1"}]}))}},f=h,y=(a("4486"),a("2877")),b=Object(y["a"])(f,r,i,!1,null,null,null),v=b.exports;t["default"]=v},af94:function(e,t,a){"use strict";var r=a("d575");t["a"]=r["a"]},c6a1:function(e,t,a){"use strict";a("58d7")},d575:function(e,t,a){"use strict";var r=function(){var e=this,t=e._self._c;return t("div",{staticClass:"multi-choice single-choice-user"},[t("div",{staticClass:"multi-choice-label"},[e._v(" "+e._s(e.$t("reportForm.selectUser"))+" ")]),t("div",{staticClass:"multi-choice-input"},[t("ZtreeUserDropdown",{ref:"ztreeDropdown",attrs:{placeholder:e.userPlaceholder,isMounted:e.isMounted},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}})],1)])},i=[],s=a("c7eb"),n=a("1da1"),o=a("5530"),l=a("2f62"),c=a("f514"),u=a("e285"),d={props:{value:{type:String,default:""},isMounted:{type:Boolean,default:!1}},name:"SingleChoiceUser",data:function(){return{username:"",userPlaceholder:this.$t("bgManage.pleaseEnterQueryUser")}},watch:{username:function(e){this.$emit("input",e)},isQueryInitData:function(){if(0==this.isMounted){var e=this.$store.state.user.userName;this.ininZtree(e,this)}}},computed:Object(o["a"])({},Object(l["b"])(["isQueryInitData"])),components:{ZtreeUserDropdown:c["a"]},methods:{ininZtree:function(){var e=Object(n["a"])(Object(s["a"])().mark((function e(t,a){var r,i,n;return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(u["Vb"])(t,null);case 2:r=e.sent,i=r.status,n=r.rootuser,0==i&&a.$refs.ztreeDropdown.ininZtree(n);case 6:case"end":return e.stop()}}),e)})));function t(t,a){return e.apply(this,arguments)}return t}()},mounted:function(){var e=this;this.$nextTick((function(){if(e.isQueryInitData&&0==e.isMounted){var t=e.$store.state.user.userName;e.ininZtree(t,e)}}))}},m=d,p=(a("c6a1"),a("2877")),h=Object(p["a"])(m,r,i,!1,null,null,null);t["a"]=h.exports}}]);