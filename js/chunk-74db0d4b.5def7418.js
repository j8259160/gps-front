(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-74db0d4b"],{"6ca7":function(t,e,a){"use strict";a.r(e);a("b0c0");var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"report full"},[e("split-pane",{staticStyle:{height:"100%"},attrs:{horizontalModeShowLeft:t.horizontalModeShowLeft,mode:"horizontal",min:"200",max:"600"},on:{"on-resize":t.onResize,"on-resizing-end":t.handleMoving},model:{value:t.offsetVertical,callback:function(e){t.offsetVertical=e},expression:"offsetVertical"}},[e("div",{staticClass:"report-left",attrs:{slot:"left"},slot:"left"},[e("div",{staticClass:"report-left-search"},[e("div",{staticClass:"report-left-search-input"},[e("el-input",{staticStyle:{width:"100%"},attrs:{clearable:"","prefix-icon":"el-icon-search",placeholder:t.$t("common.pleaseEnterFeatureName")},model:{value:t.searchText,callback:function(e){t.searchText=e},expression:"searchText"}})],1),e("div",{staticClass:"report-left-search-popup"},[e("NavView",{attrs:{navList:t.navList,height:"435px"},on:{select:t.onSelect}})],1)]),e("div",{staticClass:"report-left-tab"},[e("div",{class:["all"==t.tabActive?"tab_active":""],on:{click:function(e){t.tabActive="all"}}},[t._v(t._s(t.$t("monitor.all"))+"("+t._s(t.allCount)+")")]),e("div",{class:["stared"==t.tabActive?"tab_active":""],on:{click:function(e){t.tabActive="stared"}}},[t._v(t._s(t.$t("monitor.stared"))+"("+t._s(t.likeList.length)+")")])]),e("div",{directives:[{name:"show",rawName:"v-show",value:"all"==t.tabActive,expression:"tabActive == 'all'"}],staticClass:"report-left-menu"},[e("div",[e("el-menu",{attrs:{"default-active":t.defaultActive,"background-color":"#ffffff","text-color":"#000","active-text-color":"#2681FF","collapse-transition":t.transition,"unique-opened":t.uniqueOpened,"default-openeds":t.defaultOpeneds},on:{select:t.onSelect}},[t._l(t.navList,(function(a){return[e("el-submenu",{key:a.key,attrs:{index:a.key}},[e("template",{slot:"title"},[e("span",{class:["icon",a.iconClass]}),e("span",{attrs:{slot:"title"},slot:"title"},[t._v(" "+t._s(a.title)+"("+t._s(a.children.length)+") ")])]),t._l(a.children,(function(a){return e("el-menu-item",{key:a.key,attrs:{index:a.key}},[e("template",{slot:"title"},[e("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(a.title))]),e("div",{staticClass:"from-like"},[e("div",{class:[1==a.stared?"form-like-icon":"form-like-def-icon"],attrs:{routeName:a.key},on:{click:t.onClickLike}})])])],2)}))],2)]}))],2)],1)]),e("div",{directives:[{name:"show",rawName:"v-show",value:"stared"==t.tabActive,expression:"tabActive == 'stared'"}],staticClass:"report-left-menu"},[e("div",[e("el-menu",{attrs:{"default-active":t.defaultActive,"background-color":"#ffffff","text-color":"#000","active-text-color":"#2681FF"},on:{select:t.onSelect}},[t._l(t.likeList,(function(a){return[e("el-menu-item",{key:a.key,attrs:{index:a.key}},[e("template",{slot:"title"},[e("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(a.title))]),e("div",{staticClass:"from-like",staticStyle:{"padding-top":"20px"}},[e("div",{class:[1==a.stared?"form-like-icon":"form-like-def-icon"],attrs:{routeName:a.key},on:{click:t.onClickLike}})])])],2)]}))],2)],1)])]),e("div",{staticClass:"report-content",attrs:{slot:"right"},slot:"right"},[e("div",{staticClass:"report-content-nav"},[e("NavTag",{attrs:{prefix:"bgManage",defaultActive:t.defaultActive,type:"mgrrecent"},on:{select:t.onSelect},model:{value:t.manageTagList,callback:function(e){t.manageTagList=e},expression:"manageTagList"}})],1),e("div",{staticClass:"report-content-view mytable-scrollbar"},[e("div",{staticClass:"bg-manage-view"},[e("div",{staticClass:"bg-manage-view-inner"},["bgManage"==t.$route.name?e("div",{staticClass:"full"},[e("div",{staticClass:"default-background"},[e("div"),e("p",[e("span",{staticStyle:{"margin-left":"30px"}},[t._v(t._s(t.$t("missing.pleaseSelectCategory")))])])])]):e("router-view",{ref:"routerView"})],1)])])])])],1)},s=[],n=a("c7eb"),c=a("1da1"),r=a("5530"),l=(a("4de4"),a("caad"),a("c975"),a("14d9"),a("b64b"),a("d3b7"),a("07ac"),a("2532"),a("159b"),a("4795"),a("6e52")),o=a("632c"),u=a("243a"),f=a("adb3"),d=a("7cc3"),h=a("1c31"),v=a("2f62"),p={name:"BgManage",data:function(){return{tabActive:"all",searchText:"",offsetVertical:"300px",defaultActive:"",allCount:0,navList:[],likeList:[],defaultOpeneds:[],uniqueOpened:!1,horizontalModeShowLeft:!0,transition:!1}},components:{SplitPane:o["a"],NavView:u["a"],NavTag:f["a"]},computed:Object(r["a"])(Object(r["a"])({},Object(v["b"])(["isQueryInitData","manageDefaultRouter","manageTagList","permissionList"])),{},{userType:function(){return this.$store.state.user.userType}}),mounted:function(){null!==this.manageDefaultRouter&&this.onSelect(this.manageDefaultRouter),this.cacheNavList=[],this.isQueryInitData&&this.init()},watch:{isQueryInitData:function(t){t&&(this.defaultActive=this.$route.name,this.init())},$route:function(t){this.defaultActive=t.name},searchText:function(t){if(t=t.toLowerCase(),"all"==this.tabActive)if(""==t)this.defaultOpeneds=[],this.uniqueOpened=!0,this.navList=this.cacheNavList;else{var e=[],a={};this.uniqueOpened=!1,this.cacheNavList.forEach((function(i){if(i.title.toLowerCase().indexOf(t)>-1)a[i.key]=i.key,e.push(Object(r["a"])({},i));else{var s=[];i.children.forEach((function(e){e.title.toLowerCase().indexOf(t)>-1&&s.push(Object(r["a"])({},e))}));var n=Object(r["a"])({},i);a[n.key]=n.key,n.children=s,s.length>0&&e.push(n)}})),this.navList=e,this.defaultOpeneds=Object.keys(a)}else if(""==t)this.likeList=this.cacheLikeList;else{var i=[];this.cacheLikeList.forEach((function(e){e.title.toLowerCase().indexOf(t)>-1&&i.push(Object(r["a"])({},e))})),this.likeList=i}}},methods:Object(r["a"])(Object(r["a"])({},Object(v["c"])(["setManageDefaultRouter","setManageTagList"])),{},{init:function(){var t=this;return Object(c["a"])(Object(n["a"])().mark((function e(){var a,i,s,c,r;return Object(n["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(0!=l["a"].isQueryStaredReports){e.next=6;break}return e.next=3,Object(h["r"])();case 3:a=e.sent,i=a.favorites,l["a"].setStaredReports(i);case 6:s=t.getNavList(d["a"]),c=s.allCount,r=s.navList,t.navList=r,t.allCount=c,t.likeList=t.getLikeList(),t.cacheNavList=r,t.cacheLikeList=t.likeList;case 12:case"end":return e.stop()}}),e)})))()},onResize:function(t){var e=this;this.horizontalModeShowLeft=t,setTimeout((function(){try{e.$refs.routerView.resize&&e.$refs.routerView.resize()}catch(t){console.log(t)}}),300)},handleMoving:function(){this.onResize()},onClickLike:function(t){var e=this;t.stopPropagation();var a=t.target,i=a.getAttribute("routeName"),s=null,n=null;this.navList.forEach((function(t,e){t.children.forEach((function(t){t.key==i&&(s=t,n=e)}))}));var c=1==s.stared,r={subaction:c?"remove":"add",favoritename:s.key,type:"mgrstared"};Object(h["y"])(r).then((function(t){var a=t.status;0==a&&(s.stared=c?0:1,e.cacheNavList[n].stared=c?0:1,l["a"].staredMgrs[s.key]=c?0:1,e.likeList=e.getLikeList(),e.cacheLikeList=e.likeList)}))},onSelect:function(t){if(t!=this.defaultActive&&(this.$router.push("/bgManage/".concat(t)),this.setManageDefaultRouter(t),0==this.manageTagList.includes(t))){var e={subaction:"add",favoritename:t,type:"mgrrecent"};Object(h["y"])(e),this.manageTagList.push(t)}},getNavList:function(t){var e=this,a=(this.userType,this.permissionList),i={},s=0,n=l["a"].staredMgrs;return t.forEach((function(t,c){var r=t.path,l=t.meta,o=l.isChildren,u=l.titleI18n,f=l.parentI18n,d=l.permissionKey;if(o){if(void 0==i[f]&&(i[f]={title:e.$t("bgManage.".concat(f)),key:f,children:[],iconClass:"".concat(f,"_icon")}),-1==a.indexOf(d))return;i[f].children.push({title:e.$t("bgManage.".concat(u)),key:r,stared:void 0==n[r]?0:n[r]}),s++}else i[r]={title:e.$t("bgManage.".concat(u)),key:r}})),{allCount:s,navList:Object.values(i).filter((function(t){return t.children.length>0}))}},getLikeList:function(){var t=[];return this.navList.forEach((function(e,a){e.children.forEach((function(e){1==e.stared&&t.push(Object(r["a"])({},e))}))})),t}})},g=p,m=(a("c9fb"),a("2877")),b=Object(m["a"])(g,i,s,!1,null,null,null),k=b.exports;e["default"]=k},"8cf2":function(t,e,a){},c9fb:function(t,e,a){"use strict";a("8cf2")}}]);