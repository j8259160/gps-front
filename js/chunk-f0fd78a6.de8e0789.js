(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f0fd78a6"],{"76cf":function(t,e,i){},ab2d:function(t,e,i){"use strict";i("76cf")},db5b:function(t,e,i){"use strict";i.r(e);var o=function(){var t=this,e=t._self._c;return e("div",{staticClass:"report-form full"},[e("div",{staticClass:"report-form-inner"},[e("div",{staticClass:"report-form-inner-header",staticStyle:{height:"35px"}},[e("div",{staticClass:"f_left"},[e("SingleChoiceVehicle",{attrs:{placeholder:this.$t("tips.selectSingleDevice"),width:"230px"},model:{value:t.deviceid,callback:function(e){t.deviceid=e},expression:"deviceid"}})],1),e("div",{staticClass:"f_left"},[e("SelectDate",{attrs:{dateType:"month"},model:{value:t.month,callback:function(e){t.month=e},expression:"month"}})],1),e("div",{staticClass:"f_left"},[e("el-button",{attrs:{loading:t.loading,type:"primary"},on:{click:t.handleQuery}},[t._v(t._s(t.$t("common.query")))])],1),e("div",{staticClass:"f_left"},[e("el-button",{attrs:{type:"primary",loading:t.exportLoading1},on:{click:t.exportData}},[t._v(t._s(t.$t("common.export")))])],1)]),e("div",{staticClass:"report-form-inner-content",staticStyle:{top:"39px"}},[e("vxe-table",{staticClass:"mytable-scrollbar",attrs:{"sort-config":t.sortConfig,"menu-config":t.tableMenu,border:"",resizable:"","auto-resize":"","show-overflow":"","highlight-hover-row":"",height:"auto",data:t.detaileList,size:"mini"},on:{"menu-click":t.handleClickTableMenu}},[e("vxe-table-column",{attrs:{type:"seq",width:"60",title:t.$t("reportForm.index"),fixed:"left"}}),e("vxe-table-column",{attrs:{field:"statisticsday",width:"120",title:t.$t("reportForm.date"),fixed:"left"}}),e("vxe-table-column",{attrs:{field:"devicename",width:"140",title:t.$t("alarm.devName"),sortable:""}}),e("vxe-table-column",{attrs:{field:"deviceid",width:"140",title:t.$t("alarm.devNum"),sortable:""}}),e("vxe-table-column",{attrs:{field:"runoilper100km",width:"140",align:"right",formatter:t.numberToFixed2,title:t.$t("reportForm.runoilper100km"),sortable:""}}),e("vxe-table-column",{attrs:{field:"oilper100km",width:"140",align:"right",formatter:t.numberToFixed2,title:t.$t("reportForm.fuelConsumption100km"),sortable:""}}),e("vxe-table-column",{attrs:{field:"totaldistance",width:"120",align:"right",formatter:t.numberToFixed2,title:t.$t("reportForm.mileage")+t.distanceUnit,sortable:""}}),e("vxe-table-column",{attrs:{field:"totaloil",width:"120",align:"right",formatter:t.numberToFixed2,title:t.$t("reportForm.oilConsumption"),sortable:""}}),e("vxe-table-column",{attrs:{field:"addoil",width:"120",align:"right",formatter:t.numberToFixed2,title:t.$t("reportForm.fuelVolume"),sortable:""}}),e("vxe-table-column",{attrs:{field:"leakoil",width:"126",align:"right",formatter:t.numberToFixed2,title:t.$t("reportForm.oilLeakage"),sortable:""}}),e("vxe-table-column",{attrs:{field:"idleoil",width:"120",align:"right",formatter:t.numberToFixed2,title:t.$t("reportForm.idleOil"),sortable:""}}),e("vxe-table-column",{attrs:{field:"idleDuration",width:"120",align:"right",formatter:t.numberToFixed2,title:t.$t("reportForm.idleDuration"),sortable:""}}),e("vxe-table-column",{attrs:{field:"totalaccStr",width:"140",align:"right",formatter:t.numberToFixed2,title:t.$t("reportForm.workingDuration"),sortable:""}}),e("vxe-table-column",{attrs:{field:"oilperhour",width:"140",align:"right",formatter:t.numberToFixed2,title:t.$t("reportForm.fuelConsumptionHour"),sortable:""}}),e("vxe-table-column",{attrs:{field:"totalnotrunningad",align:"right",formatter:t.numberToFixed2,width:"155",title:t.$t("reportForm.totalnotrunningad"),sortable:""}}),e("vxe-table-column",{attrs:{field:"addnotrunningad",align:"right",formatter:t.numberToFixed2,width:"155",title:t.$t("reportForm.addnotrunningad"),sortable:""}}),e("vxe-table-column",{attrs:{field:"leaknotrunningad",align:"right",formatter:t.numberToFixed2,width:"155",title:t.$t("reportForm.leaknotrunningad"),sortable:""}})],1)],1)])])},r=[],a=i("5530"),l=(i("14d9"),i("b680"),i("d3b7"),i("159b"),i("2f62")),n=i("d462"),d=i("d03a"),s=i("1c31"),c=i("5101"),u=i("6e52"),m=i("4c3c"),h=i("a05b"),b=i("c276"),p={name:"oilMonthDetails",data:function(){return{deviceid:"",month:new Date,loading:!1,exportLoading1:!1,detaileList:[]}},mixins:[m["a"],h["a"]],components:{SingleChoiceVehicle:d["a"],SelectDate:n["a"]},watch:{month:function(){this.loading||this.handleQuery()},deviceid:function(t){this.setSingleDeviceid(t)}},computed:Object(a["a"])({},Object(l["b"])(["isZh","singleDeviceid","distanceUnit"])),methods:Object(a["a"])(Object(a["a"])({},Object(l["c"])(["setSingleDeviceid"])),{},{numberToFixed2:b["qb"],handleQuery:function(){var t=this,e=this.deviceid;if(e){var i=this.month.getFullYear(),o=this.month.getMonth()+1,r={year:i,month:o,offset:c["a"].getOffset(),deviceids:[e]};this.loading=!0,Object(s["cb"])(r).then((function(e){var i=e.devices;t.loading=!1;var o=[];if(i){var r=i[0],a=r.deviceid,l=u["a"].deviceInfos[a].devicename,n=r.records;n.forEach((function(t){t.devicename=l,t.totaldistance=Object(b["d"])(t.totaldistance),t.totalaccStr=t.totalacc/1e3/3600,t.avgspeed=t.avgspeed.toFixed(2),t.totaloil=t.totaloil/100,t.addoil=t.addoil/100,t.leakoil=t.leakoil/100,t.idleoil=t.idleoil/100,t.oilperhour=t.oilperhour,t.idleDuration=t.totalidle/1e3/3600,t.totalnotrunningad=t.totalnotrunningad/100,t.addnotrunningad=t.addnotrunningad/100,t.leaknotrunningad=t.leaknotrunningad/100})),o=n}t.detaileList=o})).catch((function(e){t.loading=!1}))}else this.$XModal.message({message:this.$t("tips.selectDevice"),status:"error",zIndex:9999})},exportData:function(){if(this.detaileList.length>0){var t=[[this.$t("reportForm.index"),this.$t("reportForm.date"),this.$t("alarm.devName"),this.$t("alarm.devNum"),this.$t("reportForm.runoilper100km"),this.$t("reportForm.fuelConsumption100km"),this.$t("reportForm.mileage")+this.distanceUnit,this.$t("reportForm.oilConsumption"),this.$t("reportForm.fuelVolume"),this.$t("reportForm.oilLeakage"),this.$t("reportForm.idleOil"),this.$t("reportForm.idleDuration")+"(h)",this.$t("reportForm.workingDuration")+"(h)",this.$t("reportForm.fuelConsumptionHour"),this.$t("reportForm.totalnotrunningad"),this.$t("reportForm.addnotrunningad"),this.$t("reportForm.leaknotrunningad")]];this.detaileList.forEach((function(e,i){var o=[];o.push(i+1),o.push(e.statisticsday),o.push(e.devicename),o.push(e.deviceid),o.push(Object(b["qb"])(e.runoilper100km)),o.push(Object(b["qb"])(e.oilper100km)),o.push(Object(b["qb"])(e.totaldistance)),o.push(Object(b["qb"])(e.totaloil)),o.push(Object(b["qb"])(e.addoil)),o.push(Object(b["qb"])(e.leakoil)),o.push(Object(b["qb"])(e.idleoil)),o.push(Object(b["qb"])(e.idleDuration)),o.push(Object(b["qb"])(e.totalaccStr)),o.push(Object(b["qb"])(e.oilperhour)),o.push(Object(b["qb"])(e.totalnotrunningad)),o.push(Object(b["qb"])(e.addnotrunningad)),o.push(Object(b["qb"])(e.leaknotrunningad)),t.push(o)}));var e=c["a"].format(this.month,"yyyy_MM"),i={title:this.$t("reportForm.oilMonthDetails")+"_"+e,data:t};this.exportLoading1=!0,new ExcelCls(i).exportExcel(this)}}}),mounted:function(){this.singleDeviceid&&(this.deviceid=this.singleDeviceid)}},f=p,g=(i("ab2d"),i("2877")),v=Object(g["a"])(f,o,r,!1,null,null,null),x=v.exports;e["default"]=x}}]);