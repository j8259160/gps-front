(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7abe0259"],{1532:function(t,e,i){"use strict";i("1eb1")},"1eb1":function(t,e,i){},"3b13":function(t,e,i){},7031:function(t,e,i){"use strict";i("3b13")},e561:function(t,e,i){"use strict";var a=i("ea22");e["a"]=a["a"]},e71be:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"report-form full"},[e("div",{staticClass:"report-form-inner"},[e("div",{staticClass:"report-form-inner-header",staticStyle:{height:"35px"}},[e("div",{staticClass:"f_left"},[e("MultiChoiceVehicle",{on:{onSelectDevice:t.onSelectDevice}})],1),e("div",{staticClass:"f_left"},[e("SelectDate",{attrs:{dateType:"date"},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1),e("div",{staticClass:"f_left"},[e("el-button",{attrs:{loading:t.loading,type:"primary"},on:{click:t.handleQuery}},[t._v(t._s(t.$t("common.query")))])],1),e("div",{staticClass:"f_left"},[e("el-button",{attrs:{type:"primary",loading:t.exportLoading1},on:{click:t.exportData}},[t._v(t._s(t.$t("common.export")))])],1)]),e("div",{staticClass:"report-form-inner-content",staticStyle:{top:"39px"}},[e("vxe-table",{staticClass:"mytable-scrollbar",attrs:{"sort-config":t.sortConfig,"menu-config":t.tableMenu,border:"",resizable:"","auto-resize":"","show-overflow":"","highlight-hover-row":"",height:"auto",data:t.totalList,size:"mini"},on:{"menu-click":t.handleClickTableMenu}},[e("vxe-table-column",{attrs:{type:"seq",width:"60",title:t.$t("reportForm.index"),fixed:"left"}}),e("vxe-table-column",{attrs:{field:"statisticsday",width:"120",title:t.$t("reportForm.date"),fixed:"left",sortable:""}}),e("vxe-table-column",{attrs:{field:"devicename",width:"120",title:t.$t("alarm.devName"),fixed:"left",sortable:""}}),e("vxe-table-column",{attrs:{field:"deviceid",width:"120",title:t.$t("alarm.devNum"),fixed:"left",sortable:""}}),e("vxe-table-column",{attrs:{field:"runoilper100km",width:"130",formatter:t.numberToFixed2,align:"right",title:t.$t("reportForm.runoilper100km"),sortable:""}}),e("vxe-table-column",{attrs:{field:"oilper100km",width:"140",formatter:t.numberToFixed2,align:"right",title:t.$t("reportForm.fuelConsumption100km"),sortable:""}}),e("vxe-table-column",{attrs:{field:"totaldistance",width:"120",formatter:t.numberToFixed2,align:"right",title:t.$t("reportForm.mileage")+t.distanceUnit,sortable:""}}),e("vxe-table-column",{attrs:{field:"totaloil",width:"120",formatter:t.numberToFixed2,align:"right",title:t.$t("reportForm.oilConsumption"),sortable:""}}),e("vxe-table-column",{attrs:{field:"addoil",width:"120",formatter:t.numberToFixed2,align:"right",title:t.$t("reportForm.fuelVolume"),sortable:""}}),e("vxe-table-column",{attrs:{field:"leakoil",width:"130",formatter:t.numberToFixed2,align:"right",title:t.$t("reportForm.oilLeakage"),sortable:""}}),e("vxe-table-column",{attrs:{field:"idleoil",width:"120",formatter:t.numberToFixed2,align:"right",title:t.$t("reportForm.idleOil"),sortable:""}}),e("vxe-table-column",{attrs:{field:"totalnotrunningad",formatter:t.numberToFixed2,align:"right",width:"155",title:t.$t("reportForm.totalnotrunningad"),sortable:""}}),e("vxe-table-column",{attrs:{field:"addnotrunningad",formatter:t.numberToFixed2,align:"right",width:"155",title:t.$t("reportForm.addnotrunningad"),sortable:""}}),e("vxe-table-column",{attrs:{field:"leaknotrunningad",formatter:t.numberToFixed2,align:"right",width:"155",title:t.$t("reportForm.leaknotrunningad"),sortable:""}}),e("vxe-table-column",{attrs:{field:"totalaccStr",formatter:t.numberToFixed2,align:"right",width:"140",title:t.$t("reportForm.workingDuration"),sortable:""}}),e("vxe-table-column",{attrs:{field:"oilperhour",formatter:t.numberToFixed2,align:"right",width:"140",title:t.$t("reportForm.fuelConsumptionHour"),sortable:""}})],1)],1)])])},o=[],r=i("5530"),l=(i("14d9"),i("a9e3"),i("d3b7"),i("159b"),i("5101")),n=i("e561"),s=i("d462"),d=i("1c31"),c=i("6e52"),u=i("4c3c"),m=i("a05b"),h=i("c276"),p=i("2f62"),b={name:"oilDaySummary",data:function(){return{date:new Date(Date.now()-864e5),loading:!1,exportLoading1:!1,totalList:[]}},components:{MultiChoiceVehicle:n["a"],SelectDate:s["a"]},mixins:[u["a"],m["a"]],watch:{date:function(){this.loading||this.handleQuery()}},computed:Object(r["a"])({},Object(p["b"])(["distanceUnit"])),methods:{numberToFixed2:h["qb"],onSelectDevice:function(t){this.deviceids=t},handleQuery:function(){var t=this,e=this.deviceids;if(0!=e.length){var i=l["a"].format(this.date,"yyyy-MM-dd"),a={startday:i,endday:i,offset:l["a"].getOffset(),devices:e};this.loading=!0,Object(d["X"])(a).then((function(e){var a=e.records;t.loading=!1;var o=[];a&&a.forEach((function(t){var e=t.deviceid;t.records.forEach((function(t){t.deviceid=e,t.statisticsday=i,t.devicename=c["a"].deviceInfos[e].devicename;var a=t.totalacc/1e3/3600;t.idleoil=t.idleoil/100,t.runoilper100km=t.runoilper100km,t.totaldistance=Object(h["d"])(t.totaldistance),t.totalaccStr=a,t.totaloil=t.totaloil/100,t.addoil=t.addoil/100,t.leakoil=t.leakoil/100,t.totalnotrunningad=t.totalnotrunningad/100,t.addnotrunningad=t.addnotrunningad/100,t.leaknotrunningad=t.leaknotrunningad/100,0==t.totaldistance||0==t.totalacc?t.averagespeed=0:t.averagespeed=t.totaldistance/Number(a),o.push(t)}))})),t.totalList=o}))}else this.$XModal.message({message:this.$t("tips.selectDevice"),status:"error",zIndex:9999})},exportData:function(){if(0!=this.totalList.length){var t=[[this.$t("reportForm.index"),this.$t("reportForm.date"),this.$t("alarm.devName"),this.$t("alarm.devNum"),this.$t("reportForm.runoilper100km"),this.$t("reportForm.fuelConsumption100km"),this.$t("reportForm.mileage")+this.distanceUnit,this.$t("reportForm.oilConsumption"),this.$t("reportForm.fuelVolume"),this.$t("reportForm.oilLeakage"),this.$t("reportForm.idleOil"),this.$t("reportForm.totalnotrunningad"),this.$t("reportForm.addnotrunningad"),this.$t("reportForm.leaknotrunningad"),this.$t("reportForm.workingDuration"),this.$t("reportForm.fuelConsumptionHour")]];this.totalList.forEach((function(e,i){var a=[];a.push(i+1),a.push(e.statisticsday),a.push(e.devicename),a.push(e.deviceid),a.push(Object(h["qb"])(e.runoilper100km)),a.push(Object(h["qb"])(e.oilper100km)),a.push(Object(h["qb"])(e.totaldistance)),a.push(Object(h["qb"])(e.totaloil)),a.push(Object(h["qb"])(e.addoil)),a.push(Object(h["qb"])(e.leakoil)),a.push(Object(h["qb"])(e.idleoil)),a.push(Object(h["qb"])(e.totalnotrunningad)),a.push(Object(h["qb"])(e.addnotrunningad)),a.push(Object(h["qb"])(e.leaknotrunningad)),a.push(Object(h["qb"])(e.totalaccStr)),a.push(Object(h["qb"])(e.oilperhour)),t.push(a)}));var e={title:this.$t("reportForm.oilDaySummary"),data:t};this.exportLoading1=!0,new ExcelCls(e).exportExcel(this)}}},mounted:function(){this.deviceids=[]}},f=b,v=(i("1532"),i("2877")),g=Object(v["a"])(f,a,o,!1,null,null,null),x=g.exports;e["default"]=x},ea22:function(t,e,i){"use strict";var a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"multi-choice multi-choice-vehicle"},[e("div",{staticClass:"multi-choice-input"},[e("ZtreeDeviceDropdown",{ref:"ztreeDevice",attrs:{disableShare:t.disableShare,isCheck:"",placeholder:this.$t("tips.selectDevice"),isQueryInitData:t.isQueryInitData,selectDeviceIds:t.multipleDeviceids},on:{onTreeCheck:t.onTreeCheck}})],1)])},o=[],r=i("5530"),l=(i("4795"),i("2f62")),n=i("2df7"),s={name:"MultiChoiceVehicle",props:{disableShare:{type:Boolean,default:!1}},data:function(){return{}},computed:Object(r["a"])({},Object(l["b"])(["isQueryInitData","multipleDeviceids"])),components:{ZtreeDeviceDropdown:n["a"]},methods:Object(r["a"])(Object(r["a"])({},Object(l["c"])(["setMultipleDeviceids"])),{},{onTreeCheck:function(t){this.$emit("onSelectDevice",t),this.setMultipleDeviceids(t)},clearText:function(){var t=this;setTimeout((function(){t.$refs.ztreeDevice.clearText()}),300)}})},d=s,c=(i("7031"),i("2877")),u=Object(c["a"])(d,a,o,!1,null,null,null);e["a"]=u.exports}}]);