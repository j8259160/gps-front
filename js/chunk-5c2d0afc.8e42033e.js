(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5c2d0afc"],{"0595":function(e,t,a){"use strict";var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"quick-time-range"},[t("div",{staticClass:"quick-time-range-wrapper"},e._l(e.list,(function(a){return t("div",{key:a.type,style:{color:a.type==e.type?"#409EFF":""},on:{click:function(t){return e.selectDate(a.type)}}},[e._v(e._s(a.label))])})),0),t("div",{staticClass:"quick-time-range-space"}),t("div",{staticClass:"quick-time-range-btn",on:{click:function(t){e.isCollapse=!e.isCollapse}}},[e.isCollapse?t("i",{staticClass:"el-icon-arrow-right"}):t("i",{staticClass:"el-icon-arrow-left"})])])},s=[],r=a("5101"),l={name:"QuickTimeRange",props:{value:{type:Array,default:function(){return[]}},dateType:{type:String,default:"date"}},watch:{isCollapse:function(){this.setList()}},data:function(){return{isCollapse:!0,type:0,list:[]}},methods:{setList:function(){this.isCollapse?this.list=[{label:this.$t("reportForm.toDay"),type:0},{label:this.$t("reportForm.yesterDay"),type:1},{label:this.$t("reportForm.recent3Days"),type:3}]:this.list=[{label:this.$t("reportForm.recent7Days"),type:7},{label:this.$t("reportForm.recent10Days"),type:10},{label:this.$t("reportForm.recent30Days"),type:30}]},selectDate:function(e){var t="datetimerange"==this.dateType,a=[],i=new Date,s=new Date;switch(t&&(i=new Date(r["a"].format(new Date,"yyyy-MM-dd")+" 00:00:00"),s=new Date(r["a"].format(new Date,"yyyy-MM-dd")+" 23:59:59")),e){case 0:a=[new Date(r["a"].format(i,"yyyy-MM-dd")+" 00:00:00"),new Date(r["a"].format(s,"yyyy-MM-dd")+" 23:59:59")];break;case 1:i.setTime(i.getTime()-864e5),s.setTime(s.getTime()-864e5),a=[i,s];break;case 3:i.setTime(i.getTime()-2592e5),a=[i,s];break;case 7:i.setTime(i.getTime()-6048e5),a=[i,s];break;case 10:i.setTime(i.getTime()-864e6),a=[i,s];break;case 30:i.setTime(i.getTime()-2592e6),a=[i,s];break}this.type=e,this.$emit("input",a)}},mounted:function(){var e=this;this.$nextTick((function(){e.setList()}))}},o=l,n=(a("8d09"),a("2877")),c=Object(n["a"])(o,i,s,!1,null,null,null);t["a"]=c.exports},"3b13":function(e,t,a){},4576:function(e,t,a){},"57c9":function(e,t,a){"use strict";var i=a("0595");t["a"]=i["a"]},"6fb3":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"report-form full"},[t("div",{staticClass:"report-form-inner"},[t("div",{staticClass:"report-form-inner-header",staticStyle:{height:"35px"}},[t("div",{staticClass:"f_left"},[t("MultiChoiceVehicle",{ref:"multiChoiceVehicle",on:{onSelectDevice:e.onSelectDevice}})],1),t("div",{staticClass:"f_left"},[t("el-button",{on:{click:e.handleSelectAlarm}},[e._v(e._s(e.$t("alarm.selectAlarmType")))])],1),t("div",{staticClass:"f_left"},[t("SelectDate",{model:{value:e.dateRange,callback:function(t){e.dateRange=t},expression:"dateRange"}})],1),t("div",{staticClass:"f_left"},[t("QuickTimeRange",{model:{value:e.dateRange,callback:function(t){e.dateRange=t},expression:"dateRange"}})],1),t("div",{staticClass:"f_left"},[t("el-button",{attrs:{loading:e.loading,type:"primary"},on:{click:e.handleQuery}},[e._v(e._s(e.$t("common.query")))])],1),t("div",{staticClass:"f_left"},[t("el-button",{attrs:{type:"primary",loading:e.exportLoading1},on:{click:e.exportData}},[e._v(e._s(e.$t("common.export")))])],1),t("div",{staticClass:"f_left"},[t("el-button",{attrs:{type:"primary"},on:{click:e.handleBatchHandle}},[e._v(e._s(e.$t("missing.batchHandle")))])],1),e.deleteAlarmPermission?t("div",{staticClass:"f_left"},[t("el-popconfirm",{attrs:{placement:"top",icon:"el-icon-info","icon-color":"red","confirm-button-text":e.$t("common.confirm"),"cancel-button-text":e.$t("common.cancel"),title:e.deleteAlarmTip},on:{confirm:e.handleBatchDelete}},[t("el-button",{attrs:{slot:"reference",type:"danger"},slot:"reference"},[e._v(e._s(e.$t("missing.batchDelete")))])],1)],1):e._e()]),t("div",{staticClass:"report-form-inner-content",staticStyle:{top:"39px"}},[t("split-pane",{style:{height:"100%"},attrs:{direction:"vertical",verticalMode:e.verticalMode},on:{"on-resize":e.onSplitPaneResize},model:{value:e.triggerOffsetV,callback:function(t){e.triggerOffsetV=t},expression:"triggerOffsetV"}},[t("div",{staticStyle:{position:"relative",height:"100%",border:""},attrs:{slot:"top"},slot:"top"},[t("div",{staticStyle:{position:"absolute",left:"-4px",right:"-4px",top:"0px",bottom:"0px"}},[t("vxe-table",{ref:"xTable",staticClass:"mytable-scrollbar",attrs:{"sort-config":e.sortConfig,"menu-config":e.tableMenu,border:"","auto-resize":"",resizable:"","show-overflow":"","highlight-current-row":"","highlight-hover-row":"",size:"mini",height:"auto",data:e.totalList},on:{"menu-click":e.handleClickTableMenu,"checkbox-all":e.selectChangeRow,"checkbox-change":e.selectChangeRow,"cell-click":e.cellClickRow}},[t("vxe-table-column",{attrs:{type:"checkbox",width:"50"}}),e.deleteAlarmPermission?t("vxe-table-column",{attrs:{title:e.$t("reportForm.action"),width:"110"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{type:"text",disabled:1==a.row.disposestatus,size:"mini"},on:{click:function(t){return e.disposeAlarm(a.row)}}},[e._v(e._s(e.$t("common.processAlarm")))]),t("span",{staticStyle:{padding:"0px 5px"}}),t("el-popconfirm",{attrs:{placement:"top",icon:"el-icon-info","icon-color":"red","confirm-button-text":e.$t("common.confirm"),"cancel-button-text":e.$t("common.cancel"),title:e.$t("tips.confirmDelete")},on:{confirm:function(t){return e.handleDelete(a)}}},[t("el-button",{attrs:{slot:"reference",type:"text",size:"mini"},slot:"reference"},[e._v(e._s(e.$t("common.delete")))])],1)]}}],null,!1,3055194986)}):t("vxe-table-column",{attrs:{title:e.$t("reportForm.action"),width:"76"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{type:"text",disabled:1==a.row.disposestatus,size:"mini"},on:{click:function(t){return e.disposeAlarm(a.row)}}},[e._v(e._s(e.$t("common.processAlarm")))])]}}])}),t("vxe-table-column",{attrs:{field:"index",width:"60",title:e.$t("reportForm.index")}}),t("vxe-table-column",{attrs:{field:"devicename",title:e.$t("alarm.devName"),width:"130",sortable:""}}),t("vxe-table-column",{attrs:{field:"deviceid",title:e.$t("alarm.devNum"),width:"130",sortable:""}}),t("vxe-table-column",{attrs:{field:"creater",title:e.$t("reportForm.creater"),width:"100",sortable:""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-popover",{attrs:{placement:"bottom",trigger:"click"}},[t("div",{staticClass:"parents-wrapper"},e._l(e.parentsList,(function(a){return t("div",{key:a.username},[e._v(e._s(a.username)+"("+e._s(a.usertypeStr)+")")])})),0),t("el-button",{staticStyle:{color:"#000000"},attrs:{slot:"reference",type:"text"},on:{click:function(t){return e.queryParents(a.row.creater)}},slot:"reference"},[e._v(e._s(a.row.creater))])],1)]}}])}),t("vxe-table-column",{attrs:{field:"groupname",title:e.$t("reportForm.groupName"),width:"100",sortable:""}}),t("vxe-table-column",{attrs:{field:"startalarmtimeStr",title:e.$t("reportForm.startTime"),width:"156",sortable:""}}),t("vxe-table-column",{attrs:{field:"lastalarmtimeStr",title:e.$t("reportForm.endTime"),width:"156",sortable:""}}),t("vxe-table-column",{attrs:{field:"stralarm",title:e.$t("alarm.alarmType"),width:"90",sortable:""}}),t("vxe-table-column",{attrs:{field:"alarmcount",title:e.$t("alarm.alarmCount"),width:"95",sortable:""}}),t("vxe-table-column",{attrs:{field:"isdispose",title:e.$t("reportForm.status"),width:"90",sortable:""}}),t("vxe-table-column",{attrs:{field:"disposecontent",title:e.$t("common.note"),width:"120",sortable:""}}),t("vxe-table-column",{attrs:{field:"address",title:e.$t("reportForm.address"),width:"200"}})],1)],1)]),t("div",{staticStyle:{height:"100%"},attrs:{slot:"bottom"},slot:"bottom"},[t("ReportMap",{ref:"mapIns"})],1)])],1),t("AlarmFilterDialog",{attrs:{forcealarm:e.forcealarm},on:{onChange:e.onChange},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}}),t("DisposeAlarmDialog",{ref:"disposeAlarmDialog",model:{value:e.alarmDialog,callback:function(t){e.alarmDialog=t},expression:"alarmDialog"}}),t("BatchDisposeAlarmDialog",{attrs:{selectRowList:e.selectRowList},model:{value:e.batchAlarmDialog,callback:function(t){e.batchAlarmDialog=t},expression:"batchAlarmDialog"}}),t("SafetyDetailReport",{ref:"safetyDetail",model:{value:e.safetyDrawer,callback:function(t){e.safetyDrawer=t},expression:"safetyDrawer"}})],1)])},s=[],r=a("5530"),l=(a("99af"),a("caad"),a("c975"),a("d81d"),a("14d9"),a("b64b"),a("d3b7"),a("2532"),a("159b"),a("589f")),o=a("e561"),n=a("acb6"),c=a("fd61"),d=function(){var e=this,t=e._self._c;return t("vxe-modal",{attrs:{title:e.title,value:e.value,className:"modal-padding0",width:"440px"},on:{hide:e.handleClose,close:e.handleClose}},[t("el-row",{staticClass:"margin_b10"},[t("el-col",{attrs:{span:4}},[t("div",{staticStyle:{"line-height":"32px"}},[e._v(" "+e._s(e.$t("common.note"))+" ")])]),t("el-col",{attrs:{span:19}},[t("el-input",{attrs:{clearable:"",type:"textarea",placeholder:e.$t("common.maxWords64"),maxlength:"64",rows:4},model:{value:e.disposecontent,callback:function(t){e.disposecontent=t},expression:"disposecontent"}})],1)],1),t("el-row",{staticClass:"margin_b10"},[t("el-col",{staticStyle:{"text-align":"center"},attrs:{span:24}},[t("el-button",{staticStyle:{width:"120px"},attrs:{type:"primary",loading:e.loading},on:{click:e.handleBatch}},[e._v(e._s(e.$t("common.determine")))])],1)],1)],1)},m=[],u=(a("4de4"),a("a9e3"),a("1c31")),p=a("6e52"),h=a("2f62"),f={name:"DisposeAlarmDialog",props:{value:{type:Boolean,default:!1},selectRowList:{type:Array,default:function(){return[]}}},data:function(){return{loading:!1,disposetype:3,disposecontent:""}},computed:Object(r["a"])(Object(r["a"])({},Object(h["b"])(["allAlarmList","urgentAlarmList"])),{},{title:function(){return this.$t("missing.batchHandle")+"("+this.selectRowList.length+")"}}),mounted:function(){},methods:{handleClose:function(){this.disposecontent="",this.$emit("input",!1)},setDeviceInfo:function(e){this.info=e,this.disposecontent=e.disposecontent,this.deviceName=p["a"].getDeviceNameByDeviceId(e.deviceid)},handleBatch:function(){var e=this,t=this.selectRowList;if(t.length>0){var a=0,i=t.length,s=this.$loading({lock:!0,text:a+"/"+i,spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});t.forEach((function(t){e.handleAlarm(t).then((function(a){0==a.status&&(t.disposecontent=a.disposecontent,t.isdispose=e.$t("reportForm.handled"),t.disposestatus=1,t.disposetype=e.disposetype,l["a"].updateDisposeStatus(t.deviceid,t.alarm))})).finally((function(t){a++,s.text=a+"/"+i,a==i&&(s.close(),e.handleClose(),e.updateAllAlarmAndUrgent(),e.$XModal.message({message:e.$t("tips.handlingAlarmsSucc"),status:"success",zIndex:9999}))}))}))}},handleAlarm:function(e){var t={deviceid:e.deviceid,alarm:e.alarm,alarmbitsstr:e.alarmbitsstr,devicealarmid:e.devicealarmid,disposetype:Number(this.disposetype),disposecontent:this.disposecontent,lastalarmtime:e.lastalarmtime};return Object(u["f"])(t)},isNeedForceAlarm:function(e){var t=!1,a=this.$store.state.forcealarm;if(e&&a)for(var i=e.length,s=a.length,r=Math.min(i,s),l=0;l<r;++l){var o=e.charAt(l),n=a.charAt(l);if("1"==n&&"1"==o){t=!0;break}}return t},updateAllAlarmAndUrgent:function(){var e=this,t=this.$i18n.locale,a=l["a"].getAlarmList();a=a.filter((function(e){var t=void 0!=cacheMgr.deviceInfos[e.deviceid];return t})),a.forEach((function(e){"zh"!=t?e.stralarm=translateAlarmen(e.stralarmen):"en"==t&&(e.stralarm=e.stralarmen);var a=cacheMgr.deviceInfos[e.deviceid];a&&(e.creater=a.creater,e.groupname=a.groupname)}));var i=[];a.forEach((function(t){e.isNeedForceAlarm(t.alarmbitsstr)&&i.push(t)})),this.$store.commit("setAllAlarmList",a),this.$store.commit("setUrgentAlarmList",i)}}},v=f,g=a("2877"),b=Object(g["a"])(v,d,m,!1,null,"3ab1cac8",null),y=b.exports,D=a("d462"),$=a("57c9"),x=a("632c"),w=a("32eb"),A=a("7cf8"),k=a("5101"),T=a("b562"),C=a("c276"),L=a("4c3c"),R=a("a05b"),S=a("0c87"),_=a("d91c"),M={name:"allAlarm",data:function(){return{loading:!1,dialog:!1,alarmDialog:!1,batchAlarmDialog:!1,exportLoading1:!1,safetyDrawer:!1,dateRange:[new Date,new Date],totalList:[],selectRowList:[],forcealarm:"11111111111111111111111111111111111111111111111111111111111111111111111111111",triggerOffsetV:50,verticalMode:"move"}},mixins:[L["a"],R["a"],S["a"]],computed:Object(r["a"])(Object(r["a"])({},Object(h["b"])(["isZh","alarmTypeList","reportTagList","permissionList"])),{},{deleteAlarmTip:function(){return this.selectRowList.length?this.$t("tips.confirmDeleteAlarm",{count:this.selectRowList.length}):this.$t("tips.selectDeleteAlarm")},deleteAlarmPermission:function(){return-1!=this.permissionList.indexOf("report-alarmreports-allalarms-deletealarm")}}),components:{MultiChoiceVehicle:o["a"],AlarmFilterDialog:n["a"],SelectDate:D["a"],QuickTimeRange:$["a"],SplitPane:x["a"],ReportMap:w["a"],DisposeAlarmDialog:c["a"],SafetyDetailReport:_["a"],BatchDisposeAlarmDialog:y},watch:{dateRange:function(){this.handleQuery()}},activated:function(){this.autoQueryAllDeviceAlarms()},methods:Object(r["a"])(Object(r["a"])({},Object(h["c"])(["setAllAlarmList","setUrgentAlarmList","setReportTagList"])),{},{onSplitPaneResize:function(e){this.verticalMode=e},autoQueryAllDeviceAlarms:function(){var e=this,t=this.$route.params.autoQuery,a=this.loading;if(t&&0==a){var i=this.reportTagList;0==i.includes("allAlarm")&&(i=i.concat(["allAlarm"]),this.setReportTagList(i)),this.$refs.multiChoiceVehicle.clearText();var s=Object.keys(p["a"].deviceInfos),r=this.dateRange,l=k["a"].format(r[0],"yyyy-MM-dd"),o=k["a"].format(r[1],"yyyy-MM-dd"),n={devices:s,needalarm:this.forcealarm,startday:l,endday:o,offset:k["a"].getOffset(),needaddress:1};this.loading=!0,this.queryDetailDateRange=n.startday+"  "+n.endday,Object(u["C"])(n).then((function(t){var a=t.alarmrecords,i=t.addressmap;e.loading=!1,e.selectRowList=[];var s=[];if(null!=a){var r=a.length;a.forEach((function(t,a){var l=p["a"].deviceInfos[t.deviceid],o=0===t.disposestatus?e.$t("reportForm.untreated"):e.$t("reportForm.handled");s.push({index:r-a,deviceid:t.deviceid,devicename:l.devicename,creater:p["a"].getShowName(l.creater),groupname:l.groupname,alarmcount:t.alarmcount,startalarmtimeStr:k["a"].longToLocalDateTimeStr(t.startalarmtime),lastalarmtimeStr:k["a"].longToLocalDateTimeStr(t.lastalarmtime),lastalarmtime:t.lastalarmtime,isdispose:o,stralarm:e.isZh?t.stralarm:Object(C["Wb"])(t.stralarmen),disposeperson:t.disposeperson?t.disposeperson:"",disposestatus:t.disposestatus,disposecontent:t.disposecontent,createrrecords:[],callat:t.lat,callon:t.lon,alarm:t.alarm,alarmtype:t.alarmtype,devicealarmid:t.devicealarmid,av:t.av,startalarmtime:t.startalarmtime,address:Object(C["L"])(i,t.lat,t.lon)})}))}if(e.totalList=s,s.length){var l=s[0];e.$refs.xTable.setCurrentRow(l),e.$refs.xTable.scrollToRow(l),e.cellClickRow({row:l})}}))}},handleDelete:function(e){var t=this,a=e.rowIndex,i=e.row,s={lastalarmtime:i.lastalarmtime,deviceid:i.deviceid,alarm:i.alarm,devicealarmid:i.devicealarmid};Object(u["d"])({alarms:[s]}).then((function(e){var i=e.status;0==i?(t.$delete(t.totalList,a),t.$XModal.message({message:t.$t("tips.deleteSucc"),status:"success",zIndex:9999})):t.$XModal.message({message:t.$t("tips.deleteFail"),status:"error",zIndex:9999})}))},handleBatchHandle:function(){this.batchAlarmDialog=!0},handleBatchDelete:function(){var e=this;if(this.selectRowList.length>0){var t=this.$loading({lock:!0,text:this.$t("missing.loading"),spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"}),a=this.selectRowList.map((function(e){return{deviceid:e.deviceid,devicealarmid:e.devicealarmid,lastalarmtime:e.lastalarmtime,alarm:e.alarm}}));Object(u["d"])({alarms:a}).then((function(i){var s=i.status;if(t.close(),0==s){var r=[];e.totalList.forEach((function(e){var t=e.devicealarmid,i=!1;a.forEach((function(e){e.devicealarmid==t&&(i=!0)})),0==i&&r.push(e)})),e.totalList=r,e.$XModal.message({message:e.$t("tips.deleteSucc"),status:"success",zIndex:9999}),e.selectRowList=[]}else e.$XModal.message({message:e.$t("tips.deleteFail"),status:"error",zIndex:9999})})).catch((function(e){console.log(e),t.close()}))}},disposeAlarm:function(e){this.alarmDialog=!0,this.$refs.disposeAlarmDialog.setDeviceInfo(e)},cellClickRow:function(e){var t=e.row;this.$refs.mapIns.singleMarkerToMap(t),this.queryActiveSafetyRecord(t)},queryActiveSafetyRecord:function(e){var t=this,a=35184372088832;if(e.alarm==a){var i={deviceid:e.deviceid,updatetime:e.startalarmtime,activesafetyid:e.av};Object(A["B"])(i).then((function(e){var a=e.playrootpath,i=e.record;if(i){i._localPlayRootPath=a;var s=i.alarmtype;100==s?i.event=Object(C["A"])(i):101==s?i.event=Object(C["m"])(i):103==s&&(i.event=Object(C["o"])(i)),i.dateStr=k["a"].longToLocalDateTimeStr(i.updatetime),t.$refs.safetyDetail.setRecordInfo(i),t.safetyDrawer=!0}}))}},isNeedForceAlarm:function(e){var t=!1,a=this.$store.state.forcealarm;if(e&&a)for(var i=e.length,s=a.length,r=Math.min(i,s),l=0;l<r;++l){var o=e.charAt(l),n=a.charAt(l);if("1"==n&&"1"==o){t=!0;break}}return t},handleSelectAlarm:function(){var e=this;0==this.alarmTypeList.length?Object(T["L"])().then((function(t){if(0==t.status){var a=[],i=t.records;i.forEach((function(e,t){e.show=!0,e.index=t+1,a.push(e)})),e.$store.commit("setAlarmTypeList",a),e.dialog=!0}})):this.dialog=!0},onSelectDevice:function(e){this.deviceids=e},selectChangeRow:function(e){var t=e.records;console.log("records = "),console.log(t),this.selectRowList=t},exportData:function(){var e=this,t=[[this.$t("reportForm.index"),this.$t("alarm.devName"),this.$t("alarm.devNum"),this.$t("reportForm.creater"),this.$t("reportForm.groupName"),this.$t("reportForm.startTime"),this.$t("reportForm.endTime"),this.$t("alarm.alarmType"),this.$t("alarm.alarmCount"),this.$t("reportForm.status"),this.$t("reportForm.address"),this.$t("monitor.coordinate")]];if(this.totalList.length){var a=this.$refs.xTable.getTableData().visibleData;a.forEach((function(a,i){var s=0===a.disposestatus?e.$t("reportForm.untreated"):e.$t("reportForm.handled"),r=[];r.push(i+1),r.push(a.devicename),r.push(a.deviceid),r.push(a.creater),r.push(a.groupname),r.push(a.startalarmtimeStr),r.push(a.lastalarmtimeStr),r.push(a.stralarm),r.push(a.alarmcount),r.push(s),r.push(a.address),r.push(a.callon+","+a.callat),t.push(r)}));var i={title:this.$t("reportForm.allAlarm"),data:t,dateRange:this.queryDetailDateRange};this.exportLoading1=!0,new ExcelCls(i).exportExcel(this)}},handleQuery:function(){var e=this,t=this.deviceids,a=this.dateRange;if(0!=t.length){var i=k["a"].format(a[0],"yyyy-MM-dd"),s=k["a"].format(a[1],"yyyy-MM-dd"),r={devices:t,needalarm:this.forcealarm,startday:i,endday:s,offset:k["a"].getOffset(),needaddress:1};this.loading=!0,this.queryDetailDateRange=r.startday+"  "+r.endday,Object(u["C"])(r).then((function(t){var a=t.alarmrecords,i=t.addressmap;e.loading=!1,e.selectRowList=[];var s=[];if(null!=a){var r=a.length;a.forEach((function(t,a){var l=p["a"].deviceInfos[t.deviceid],o=0===t.disposestatus?e.$t("reportForm.untreated"):e.$t("reportForm.handled");s.push({index:r-a,deviceid:t.deviceid,devicename:l.devicename,creater:l.creater,groupname:l.groupname,alarmcount:t.alarmcount,lastalarmtime:t.lastalarmtime,lastalarmtimeStr:k["a"].longToLocalDateTimeStr(t.lastalarmtime),startalarmtimeStr:k["a"].longToLocalDateTimeStr(t.startalarmtime),isdispose:o,stralarm:e.isZh?t.stralarm:Object(C["Wb"])(t.stralarmen),disposeperson:t.disposeperson?t.disposeperson:"",disposestatus:t.disposestatus,disposecontent:t.disposecontent,createrrecords:[],callat:t.lat,callon:t.lon,alarm:t.alarm,devicealarmid:t.devicealarmid,av:t.av,startalarmtime:t.startalarmtime,address:Object(C["L"])(i,t.lat,t.lon)})}))}if(e.totalList=s,s.length){var l=s[0];e.$refs.xTable.setCurrentRow(l),e.$refs.xTable.scrollToRow(l),e.$refs.mapIns.singleMarkerToMap(l)}}))}else this.$XModal.message({message:this.$t("tips.selectDevice"),status:"error",zIndex:9999})},onChange:function(e){this.forcealarm=e}}),mounted:function(){this.deviceids=[],this.autoQueryAllDeviceAlarms()}},O=M,F=(a("fd5f"),Object(g["a"])(O,i,s,!1,null,null,null)),j=F.exports;t["default"]=j},7031:function(e,t,a){"use strict";a("3b13")},"8d09":function(e,t,a){"use strict";a("a818")},a818:function(e,t,a){},e561:function(e,t,a){"use strict";var i=a("ea22");t["a"]=i["a"]},ea22:function(e,t,a){"use strict";var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"multi-choice multi-choice-vehicle"},[t("div",{staticClass:"multi-choice-input"},[t("ZtreeDeviceDropdown",{ref:"ztreeDevice",attrs:{disableShare:e.disableShare,isCheck:"",placeholder:this.$t("tips.selectDevice"),isQueryInitData:e.isQueryInitData,selectDeviceIds:e.multipleDeviceids},on:{onTreeCheck:e.onTreeCheck}})],1)])},s=[],r=a("5530"),l=(a("4795"),a("2f62")),o=a("2df7"),n={name:"MultiChoiceVehicle",props:{disableShare:{type:Boolean,default:!1}},data:function(){return{}},computed:Object(r["a"])({},Object(l["b"])(["isQueryInitData","multipleDeviceids"])),components:{ZtreeDeviceDropdown:o["a"]},methods:Object(r["a"])(Object(r["a"])({},Object(l["c"])(["setMultipleDeviceids"])),{},{onTreeCheck:function(e){this.$emit("onSelectDevice",e),this.setMultipleDeviceids(e)},clearText:function(){var e=this;setTimeout((function(){e.$refs.ztreeDevice.clearText()}),300)}})},c=n,d=(a("7031"),a("2877")),m=Object(d["a"])(c,i,s,!1,null,null,null);t["a"]=m.exports},fd5f:function(e,t,a){"use strict";a("4576")}}]);